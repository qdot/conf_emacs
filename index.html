<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>qDot's Emacs Configuration</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="qDot's Emacs Configuration"/>
<meta name="generator" content="Org-mode"/>
<meta name="author" content="Kyle Machulis"/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012  Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">qDot's Emacs Configuration</h1>
<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Directory Configuration</h2>
<div class="outline-text-2" id="text-1">
<p>
Setting up a few different variables for the different types of
directories we have (configurations, locally stored versus el-get
fetched libs, etc&hellip;)
</p>

<ul class="org-ul">
<li>Set up the base configuration directory
</li>
</ul>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defconst</span> <span style="color: #eedd82;">qdot/emacs-conf-dir</span>
  <span style="color: #696969;">(</span>file-name-directory <span style="color: #696969;">(</span>or load-file-name <span style="color: #696969;">(</span>buffer-file-name<span style="color: #696969;">)))</span>
  <span style="color: #ffa07a;">"Directory for emacs configuration"</span><span style="color: #696969;">)</span>
</pre>
</div>

<ul class="org-ul">
<li>Manually installed/maintained elisp directory
</li>
</ul>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defconst</span> <span style="color: #eedd82;">qdot/emacs-elisp-dir</span>
  <span style="color: #696969;">(</span>expand-file-name <span style="color: #696969;">(</span>concat qdot/emacs-conf-dir <span style="color: #ffa07a;">"elisp/"</span><span style="color: #696969;">))</span>
  <span style="color: #ffa07a;">"Directory for manually installed/maintained elisp files"</span><span style="color: #696969;">)</span>
</pre>
</div>

<ul class="org-ul">
<li>Non-elisp scripts directory
</li>
</ul>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defconst</span> <span style="color: #eedd82;">qdot/emacs-scripts-dir</span>
  <span style="color: #696969;">(</span>expand-file-name <span style="color: #696969;">(</span>concat qdot/emacs-conf-dir <span style="color: #ffa07a;">"scripts/"</span><span style="color: #696969;">))</span>
  <span style="color: #ffa07a;">"Directory for non-elisp scripts"</span><span style="color: #696969;">)</span>
</pre>
</div>

<ul class="org-ul">
<li>el-get packages directory
</li>
</ul>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defconst</span> <span style="color: #eedd82;">qdot/emacs-autoinst-elisp-dir</span>
  <span style="color: #696969;">(</span>expand-file-name <span style="color: #696969;">(</span>concat qdot/emacs-conf-dir <span style="color: #ffa07a;">"elisp_auto/"</span><span style="color: #696969;">))</span>
  <span style="color: #ffa07a;">"Directory for el-get elisp packages"</span><span style="color: #696969;">)</span>
</pre>
</div>

<ul class="org-ul">
<li>As of emacs 23, ~/.emacs.d is user-emacs-directory
</li>
</ul>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>setq custom-file <span style="color: #696969;">(</span>concat user-emacs-directory <span style="color: #ffa07a;">"emacs_conf_custom.el"</span><span style="color: #696969;">))</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>file-exists-p custom-file<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">with-temp-buffer</span>
      <span style="color: #696969;">(</span>write-file custom-file<span style="color: #696969;">)))</span>
</pre>
</div>

<ul class="org-ul">
<li>Add configuration and scripts directories to proper variables
</li>
</ul>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>add-to-list 'exec-path <span style="color: #696969;">(</span>expand-file-name qdot/emacs-scripts-dir<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>add-to-list 'load-path <span style="color: #696969;">(</span>expand-file-name qdot/emacs-conf-dir<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>add-to-list 'load-path <span style="color: #696969;">(</span>expand-file-name qdot/emacs-elisp-dir<span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">Utility Functions</h2>
<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1">Close all buffers</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">close-all-buffers</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Close all currently open buffers"</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>mapc 'kill-buffer <span style="color: #696969;">(</span>buffer-list<span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-2" class="outline-3">
<h3 id="sec-2-2">Unfill paragraph</h3>
<div class="outline-text-3" id="text-2-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">unfill-paragraph</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Takes a multi-line paragraph and makes it into a single line of text."</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>fill-column <span style="color: #696969;">(</span>point-max<span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span>fill-paragraph nil<span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-3" class="outline-3">
<h3 id="sec-2-3">Ask before quitting</h3>
<div class="outline-text-3" id="text-2-3">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ask-before-quit</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Ask me before I quit emacs if I think that's a good thing to do"</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>yes-or-no-p <span style="color: #ffa07a;">"Do you really want to quit Emacs?"</span><span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>add-hook 'kill-emacs-query-functions 'ask-before-quit<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-4" class="outline-3">
<h3 id="sec-2-4">Reload file with current position saved</h3>
<div class="outline-text-3" id="text-2-4">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">reload-file</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Reload a file, resetting the cursor to the current position"</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>curr-scroll <span style="color: #696969;">(</span>window-vscroll<span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span>find-file <span style="color: #696969;">(</span>buffer-name<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span>set-window-vscroll nil curr-scroll<span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-5" class="outline-3">
<h3 id="sec-2-5">Show just matches instead of everything in occur buffer</h3>
<div class="outline-text-3" id="text-2-5">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">occurrences</span> <span style="color: #696969;">(</span>regexp &amp;rest ignore<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Show all matches for REGEXP in an `</span><span style="color: #ffa07a;">occur</span><span style="color: #ffa07a;">' buffer."</span>
  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">keep text covered by occur-prefix and match text-properties</span>
  <span style="color: #696969;">(</span>interactive <span style="color: #696969;">(</span>occur-read-primary-args<span style="color: #696969;">))</span>
  <span style="color: #696969;">(</span>occur regexp<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">with-current-buffer</span> <span style="color: #696969;">(</span>get-buffer <span style="color: #ffa07a;">"*Occur*"</span><span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>inhibit-read-only t<span style="color: #696969;">)</span>
    delete-from
    pos<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">save-excursion</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">while</span> <span style="color: #696969;">(</span>setq pos <span style="color: #696969;">(</span>next-property-change <span style="color: #696969;">(</span>point<span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span>goto-char pos<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>or <span style="color: #696969;">(</span>get-text-property <span style="color: #696969;">(</span>point<span style="color: #696969;">)</span> 'occur-prefix<span style="color: #696969;">)</span>
           <span style="color: #696969;">(</span>get-text-property <span style="color: #696969;">(</span>point<span style="color: #696969;">)</span> 'occur-match<span style="color: #696969;">)))</span>
        <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> delete-from
      <span style="color: #696969;">(</span>delete-region delete-from <span style="color: #696969;">(</span>point<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span>setq delete-from <span style="color: #696969;">(</span>point<span style="color: #696969;">)))</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> delete-from
        <span style="color: #696969;">(</span>delete-region delete-from <span style="color: #696969;">(</span>point<span style="color: #696969;">))</span>
        <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>get-text-property <span style="color: #696969;">(</span>point<span style="color: #696969;">)</span> 'occur-prefix<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>insert <span style="color: #ffa07a;">"\n"</span><span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>insert <span style="color: #ffa07a;">" "</span><span style="color: #696969;">)))</span>
      <span style="color: #696969;">(</span>setq delete-from nil<span style="color: #696969;">)))))))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-6" class="outline-3">
<h3 id="sec-2-6">Make kill-ring-save/kill-region smarter based on mark position</h3>
<div class="outline-text-3" id="text-2-6">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defadvice</span> <span style="color: #87cefa;">kill-ring-save</span> <span style="color: #696969;">(</span>before slick-copy activate compile<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"When called interactively with no active region, copy a single line instead."</span>
  <span style="color: #696969;">(</span>interactive
   <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> mark-active <span style="color: #696969;">(</span>list <span style="color: #696969;">(</span>region-beginning<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>region-end<span style="color: #696969;">))</span>
     <span style="color: #696969;">(</span>message <span style="color: #ffa07a;">"Copied line"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>list <span style="color: #696969;">(</span>line-beginning-position<span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>line-beginning-position 2<span style="color: #696969;">)))))</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defadvice</span> <span style="color: #87cefa;">kill-region</span> <span style="color: #696969;">(</span>before slick-cut activate compile<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"When called interactively with no active region, kill a single line instead."</span>
  <span style="color: #696969;">(</span>interactive
   <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> mark-active <span style="color: #696969;">(</span>list <span style="color: #696969;">(</span>region-beginning<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>region-end<span style="color: #696969;">))</span>
     <span style="color: #696969;">(</span>list <span style="color: #696969;">(</span>line-beginning-position<span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>line-beginning-position 2<span style="color: #696969;">)))))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-7" class="outline-3">
<h3 id="sec-2-7">Edit files as root</h3>
<div class="outline-text-3" id="text-2-7">
<p>
<a href="http://nflath.com/2009/08/tramp/" >http://nflath.com/2009/08/tramp/</a>
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">sudo-edit</span> <span style="color: #696969;">(</span>&amp;optional arg<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Open file as root and edit via tramp"</span>
  <span style="color: #696969;">(</span>interactive <span style="color: #ffa07a;">"p"</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> arg
      <span style="color: #696969;">(</span>find-file <span style="color: #696969;">(</span>concat <span style="color: #ffa07a;">"/sudo:root@localhost:"</span> <span style="color: #696969;">(</span>ido-read-file-name <span style="color: #ffa07a;">"File: "</span><span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span>find-alternate-file <span style="color: #696969;">(</span>concat <span style="color: #ffa07a;">"/sudo:root@localhost:"</span> buffer-file-name<span style="color: #696969;">))))</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">sudo-edit-current-file</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Open file in current buffer as root and edit via tramp"</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>pos <span style="color: #696969;">(</span>point<span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span>find-alternate-file
     <span style="color: #696969;">(</span>concat <span style="color: #ffa07a;">"/sudo:root@localhost:"</span> <span style="color: #696969;">(</span>buffer-file-name <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">))))</span>
    <span style="color: #696969;">(</span>goto-char pos<span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-8" class="outline-3">
<h3 id="sec-2-8">Rename a file and the buffer it's in at the same time</h3>
<div class="outline-text-3" id="text-2-8">
<p>
Via yeggeconf <a href="http://sites.google.com/site/steveyegge2/my-dot-emacs-file" >http://sites.google.com/site/steveyegge2/my-dot-emacs-file</a>
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">rename-file-and-buffer</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Renames current buffer and file it is visiting."</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>name <span style="color: #696969;">(</span>buffer-name<span style="color: #696969;">))</span>
        <span style="color: #696969;">(</span>filename <span style="color: #696969;">(</span>buffer-file-name<span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>and filename <span style="color: #696969;">(</span>file-exists-p filename<span style="color: #696969;">)))</span>
        <span style="color: #696969;">(</span>message <span style="color: #ffa07a;">"Buffer '%s' is not visiting a file!"</span> name<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>new-name <span style="color: #696969;">(</span>read-file-name <span style="color: #ffa07a;">"New name: "</span> filename<span style="color: #696969;">)))</span>
        <span style="color: #696969;">(</span><span style="color: #00ffff;">cond</span> <span style="color: #696969;">((</span>get-buffer new-name<span style="color: #696969;">)</span>
               <span style="color: #696969;">(</span>message <span style="color: #ffa07a;">"A buffer named '%s' already exists!"</span> new-name<span style="color: #696969;">))</span>
              <span style="color: #696969;">(</span>t
               <span style="color: #696969;">(</span>rename-file name new-name 1<span style="color: #696969;">)</span>
               <span style="color: #696969;">(</span>rename-buffer new-name<span style="color: #696969;">)</span>
               <span style="color: #696969;">(</span>set-visited-file-name new-name<span style="color: #696969;">)</span>
               <span style="color: #696969;">(</span>set-buffer-modified-p nil<span style="color: #696969;">)))))))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-9" class="outline-3">
<h3 id="sec-2-9">Abort minibuffer when mousing</h3>
<div class="outline-text-3" id="text-2-9">
<p>
<a href="http://trey-jackson.blogspot.com/2010/04/emacs-tip-36-abort-minibuffer-when.html" >http://trey-jackson.blogspot.com/2010/04/emacs-tip-36-abort-minibuffer-when.html</a>
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">stop-using-minibuffer</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"kill the minibuffer"</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>&gt;= <span style="color: #696969;">(</span>recursion-depth<span style="color: #696969;">)</span> 1<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span><span style="color: #ffc0cb; font-weight: bold;">abort</span>-recursive-edit<span style="color: #696969;">)))</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Whenever a mouse click has happened, clear the minibuffer</span>
<span style="color: #696969;">(</span>add-hook 'mouse-leave-buffer-hook 'stop-using-minibuffer<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-10" class="outline-3">
<h3 id="sec-2-10">Simple filter function</h3>
<div class="outline-text-3" id="text-2-10">
<p>
<a href="http://www.emacswiki.org/emacs/ElispCookbook" >http://www.emacswiki.org/emacs/ElispCookbook</a>
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/filter</span> <span style="color: #696969;">(</span>condp lst<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>delq nil
  <span style="color: #696969;">(</span>mapcar <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">(</span>x<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>and <span style="color: #696969;">(</span>funcall condp x<span style="color: #696969;">)</span> x<span style="color: #696969;">))</span> lst<span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-11" class="outline-3">
<h3 id="sec-2-11">Return major mode of a buffer</h3>
<div class="outline-text-3" id="text-2-11">
<p>
<a href="http://stackoverflow.com/questions/2238418/emacs-lisp-how-to-get-buffer-major-mode" >http://stackoverflow.com/questions/2238418/emacs-lisp-how-to-get-buffer-major-mode</a>
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/buffer-mode</span> <span style="color: #696969;">(</span>buffer-or-string<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Returns the major mode associated with a buffer."</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">save-excursion</span>
    <span style="color: #696969;">(</span>set-buffer buffer-or-string<span style="color: #696969;">)</span>
    major-mode<span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-12" class="outline-3">
<h3 id="sec-2-12">Open current buffer file in browser</h3>
<div class="outline-text-3" id="text-2-12">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/open-in-browser</span><span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Open current file in browser"</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>filename <span style="color: #696969;">(</span>buffer-file-name<span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span>browse-url <span style="color: #696969;">(</span>concat <span style="color: #ffa07a;">"file://"</span> filename<span style="color: #696969;">))))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-13" class="outline-3">
<h3 id="sec-2-13">Evaluate and replace preceding sexp</h3>
<div class="outline-text-3" id="text-2-13">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">eval-and-replace</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Replace the preceding sexp with its value."</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>backward-kill-sexp<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">condition-case</span> nil
      <span style="color: #696969;">(</span>prin1 <span style="color: #696969;">(</span>eval <span style="color: #696969;">(</span>read <span style="color: #696969;">(</span>current-kill 0<span style="color: #696969;">)))</span>
             <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span><span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #696969;">(</span>message <span style="color: #ffa07a;">"Invalid expression"</span><span style="color: #696969;">)</span>
           <span style="color: #696969;">(</span>insert <span style="color: #696969;">(</span>current-kill 0<span style="color: #696969;">)))))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-14" class="outline-3">
<h3 id="sec-2-14">Delete current buffer and file</h3>
<div class="outline-text-3" id="text-2-14">
<p>
<a href="http://blog.tuxicity.se/elisp/emacs/2010/11/16/delete-file-and-buffer-in-emacs.html" >http://blog.tuxicity.se/elisp/emacs/2010/11/16/delete-file-and-buffer-in-emacs.html</a>
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">delete-buffer-and-file</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Removes file connected to current buffer and kills buffer."</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>filename <span style="color: #696969;">(</span>buffer-file-name<span style="color: #696969;">))</span>
        <span style="color: #696969;">(</span>buffer <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">))</span>
        <span style="color: #696969;">(</span>name <span style="color: #696969;">(</span>buffer-name<span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>and filename <span style="color: #696969;">(</span>file-exists-p filename<span style="color: #696969;">)))</span>
        <span style="color: #696969;">(</span><span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Buffer '%s' is not visiting a file!"</span> name<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>yes-or-no-p <span style="color: #ffa07a;">"Are you sure you want to remove this file? "</span><span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span>delete-file filename<span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span>kill-buffer buffer<span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span>message <span style="color: #ffa07a;">"File '%s' successfully removed"</span> filename<span style="color: #696969;">)))))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-15" class="outline-3">
<h3 id="sec-2-15">Insert a uuid at current position using uuidgen</h3>
<div class="outline-text-3" id="text-2-15">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/insert-uuid</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Use uuidgen to insert a uuid at point"</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>shell-command-on-region <span style="color: #696969;">(</span>point<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>point<span style="color: #696969;">)</span> <span style="color: #ffa07a;">"uuidgen"</span> t<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>delete-backward-char 1<span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-16" class="outline-3">
<h3 id="sec-2-16">Clear kill ring</h3>
<div class="outline-text-3" id="text-2-16">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/clear-kill-ring</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Clear the kill ring variable"</span>
  <span style="color: #696969;">(</span>setq kill-ring nil<span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-17" class="outline-3">
<h3 id="sec-2-17">Override org-agenda-open-in-other-window</h3>
<div class="outline-text-3" id="text-2-17">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/org-agenda-open-in-other-window</span><span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Used for opening org files in the agenda in another window instead of over the agenda"</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>and workgroups-mode
       <span style="color: #696969;">(</span>eq <span style="color: #696969;">(</span>wg-get-workgroup <span style="color: #ffa07a;">"agenda"</span><span style="color: #696969;">)</span> <span style="color: #696969;">(</span>wg-current-workgroup<span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span>setq pop-up-windows nil<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>org-agenda-switch-to<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>setq pop-up-windows t<span style="color: #696969;">))</span>
  <span style="color: #696969;">(</span>org-agenda-switch-to<span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-18" class="outline-3">
<h3 id="sec-2-18">Byte compile elisp when saved</h3>
<div class="outline-text-3" id="text-2-18">
<p>
Byte compile the current buffer on save if a byte compiled version
already exists.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/byte-compile-current-buffer</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"`</span><span style="color: #ffa07a;">byte-compile</span><span style="color: #ffa07a;">' current buffer if it's emacs-lisp-mode and compiled file exists."</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>and <span style="color: #696969;">(</span>eq major-mode 'emacs-lisp-mode<span style="color: #696969;">)</span>
             <span style="color: #696969;">(</span>file-exists-p <span style="color: #696969;">(</span>byte-compile-dest-file buffer-file-name<span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span>byte-compile-file buffer-file-name<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span>add-hook 'after-save-hook 'qdot/byte-compile-current-buffer<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-2-19" class="outline-3">
<h3 id="sec-2-19">Desktop setup function</h3>
<div class="outline-text-3" id="text-2-19">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/start-desktop</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>qdot/set-platform-font<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> linux-p
    <span style="color: #696969;">(</span>wg-find-session-file <span style="color: #696969;">(</span>concat qdot/emacs-conf-dir <span style="color: #ffa07a;">"workgroups/linux-wg.el"</span><span style="color: #696969;">)))</span>
  <span style="color: #696969;">(</span>org-agenda-list<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>sauron-start<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>qdot/monkey-patch-sr<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>qdot/erc-znc-start<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>qdot/bitlbee-connect<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>wg-switch-to-workgroup <span style="color: #ffa07a;">"bitlbee"</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>qdot/bitlbee-resume-layout<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>wg-switch-to-workgroup <span style="color: #ffa07a;">"twitter"</span><span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-3" class="outline-2">
<h2 id="sec-3">Basic Variables and Modes</h2>
<div id="outline-container-3-1" class="outline-3">
<h3 id="sec-3-1">Identity</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>setq
 user-mail-address <span style="color: #ffa07a;">"kyle@nonpolynomial.com"</span>
 user-full-name  <span style="color: #ffa07a;">"Kyle Machulis"</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-3-2" class="outline-3">
<h3 id="sec-3-2">Platform Variables</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Set up some simple platform finding variables that may or may not work
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>setq mswindows-p <span style="color: #696969;">(</span>string-match <span style="color: #ffa07a;">"windows"</span> <span style="color: #696969;">(</span>symbol-name system-type<span style="color: #696969;">)))</span>
<span style="color: #696969;">(</span>setq macosx-p <span style="color: #696969;">(</span>string-match <span style="color: #ffa07a;">"darwin"</span> <span style="color: #696969;">(</span>symbol-name system-type<span style="color: #696969;">)))</span>
<span style="color: #696969;">(</span>setq linux-p <span style="color: #696969;">(</span>string-match <span style="color: #ffa07a;">"gnu/linux"</span> <span style="color: #696969;">(</span>symbol-name system-type<span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-3-3" class="outline-3">
<h3 id="sec-3-3">Firefox Setup</h3>
<div class="outline-text-3" id="text-3-3">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> linux-p
  <span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/set-firefox-trunk</span> <span style="color: #696969;">()</span>
    <span style="color: #ffa07a;">"Set default browser to firefox-trunk regardless of OS default"</span>
    <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> linux-p
      <span style="color: #696969;">(</span>custom-set-variables '<span style="color: #696969;">(</span>browse-url-firefox-program <span style="color: #ffa07a;">"firefox-trunk"</span><span style="color: #696969;">))))</span>

  <span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/set-firefox</span> <span style="color: #696969;">()</span>
    <span style="color: #ffa07a;">"Set default browser to firefox regardless of OS default"</span>
    <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> linux-p
      <span style="color: #696969;">(</span>custom-set-variables '<span style="color: #696969;">(</span>browse-url-firefox-program <span style="color: #ffa07a;">"firefox"</span><span style="color: #696969;">))))</span>

  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Make sure we use firefox-trunk if it's on linux.</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>member t <span style="color: #696969;">(</span>mapcar <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">(</span>d<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>file-exists-p <span style="color: #696969;">(</span>concat d <span style="color: #ffa07a;">"/firefox-trunk"</span><span style="color: #696969;">)))</span> exec-path<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span>qdot/set-firefox-trunk<span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-3-4" class="outline-3">
<h3 id="sec-3-4">CEDET Loading</h3>
<div class="outline-text-3" id="text-3-4">
<p>
Load cedet first, otherwise we'll conflict against the 1.1 repo stuff
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>load-file <span style="color: #696969;">(</span>concat qdot/emacs-autoinst-elisp-dir <span style="color: #ffa07a;">"cedet/cedet-devel-load.el"</span><span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-3-5" class="outline-3">
<h3 id="sec-3-5">Start/Splash Inhibit</h3>
<div class="outline-text-3" id="text-3-5">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>setq inhibit-start-message t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq inhibit-splash-screen t<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-3-6" class="outline-3">
<h3 id="sec-3-6">Turn off Bell Functions</h3>
<div class="outline-text-3" id="text-3-6">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>setq visible-bell nil<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq ring-bell-function 'ignore<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-3-7" class="outline-3">
<h3 id="sec-3-7">Global font setup</h3>
<div class="outline-text-3" id="text-3-7">
<p>
We know we have consolas on OS X, so use it
</p>

<p>
We also need to do this as near the beginning as possible, since it crashes otherwise?
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/set-platform-font</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Set the default font for the system type."</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> macosx-p
    <span style="color: #696969;">(</span>set-face-font 'default <span style="color: #ffa07a;">"consolas-11"</span><span style="color: #696969;">))</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> mswindows-p
    <span style="color: #696969;">(</span>set-face-font 'default <span style="color: #ffa07a;">"consolas-8"</span><span style="color: #696969;">))</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> linux-p
    <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>member <span style="color: #ffa07a;">"Inconsolata"</span> <span style="color: #696969;">(</span>font-family-list<span style="color: #696969;">))</span>
      <span style="color: #696969;">(</span>set-face-font 'default <span style="color: #ffa07a;">"inconsolata-11"</span><span style="color: #696969;">))))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-3-8" class="outline-3">
<h3 id="sec-3-8">Platform specific meta keys</h3>
<div class="outline-text-3" id="text-3-8">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> macosx-p
  <span style="color: #ff4500;">;;</span><span style="color: #ff4500;">Change meta to alt</span>
  <span style="color: #696969;">(</span>setq mac-command-modifier 'meta<span style="color: #696969;">)</span>
  <span style="color: #ff4500;">;;</span><span style="color: #ff4500;">avoid hiding with M-h</span>
  <span style="color: #696969;">(</span>setq mac-pass-command-to-system nil<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> linux-p
  <span style="color: #696969;">(</span>setq x-alt-keysym 'meta<span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-3-9" class="outline-3">
<h3 id="sec-3-9">Autosave setup</h3>
<div class="outline-text-3" id="text-3-9">
<p>
Put autosave files (ie #foo#) in one place, <b>not</b> scattered all over
the file system
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defvar</span> <span style="color: #eedd82;">autosave-dir</span> <span style="color: #696969;">(</span>concat user-emacs-directory <span style="color: #ffa07a;">"autosaves/"</span><span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>make-directory autosave-dir t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">auto-save-file-name-p</span> <span style="color: #696969;">(</span>filename<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>string-match <span style="color: #ffa07a;">"^#.*#$"</span> <span style="color: #696969;">(</span>file-name-nondirectory filename<span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-3-10" class="outline-3">
<h3 id="sec-3-10">Backup file setup</h3>
<div class="outline-text-3" id="text-3-10">
<p>
Put backup files (ie foo~) in one place too. (The
backup-directory-alist list contains regexp=&gt;directory mappings;
filenames matching a regexp are backed up in the corresponding
directory. Emacs will mkdir it if necessary.)
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">defvar</span> <span style="color: #eedd82;">backup-dir</span> <span style="color: #696969;">(</span>concat user-emacs-directory <span style="color: #ffa07a;">"backups/"</span><span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>make-directory backup-dir t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq backup-directory-alist <span style="color: #696969;">(</span>list <span style="color: #696969;">(</span>cons <span style="color: #ffa07a;">"."</span> backup-dir<span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-3-11" class="outline-3">
<h3 id="sec-3-11">Modeline and display setup</h3>
<div class="outline-text-3" id="text-3-11">
<p>
Redisplay trick taken from <a href="http://www.masteringemacs.org/articles/2011/10/02/improving-performance-emacs-display-engine/" >http://www.masteringemacs.org/articles/2011/10/02/improving-performance-emacs-display-engine/</a>
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>setq display-time-24hr-format t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq display-time-day-and-date t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq transient-mark-mode t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq redisplay-dont-pause t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>display-time<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>line-number-mode t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>column-number-mode t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>tool-bar-mode -1<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>menu-bar-mode -1<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>blink-cursor-mode -1<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-font-lock-mode 1<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-3-12" class="outline-3">
<h3 id="sec-3-12">Other setup</h3>
<div class="outline-text-3" id="text-3-12">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;; </span><span style="color: #ff4500;">period single space ends sentence</span>
<span style="color: #696969;">(</span>setq sentence-end-double-space nil<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq default-directory <span style="color: #ffa07a;">"~"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq message-log-max 5000<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> linux-p
  <span style="color: #696969;">(</span>setq
   <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">copy emacs clipboard to system</span>
   x-select-enable-clipboard t
   interprogram-paste-function 'x-cut-buffer-or-selection-value
   <span style="color: #696969;">))</span>

<span style="color: #696969;">(</span>set-default 'indicate-empty-lines t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-auto-revert-mode t<span style="color: #696969;">)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Transparently open compressed files</span>
<span style="color: #696969;">(</span>auto-compression-mode t<span style="color: #696969;">)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Save a list of recent files visited.</span>
<span style="color: #696969;">(</span>recentf-mode 1<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-3-13" class="outline-3">
<h3 id="sec-3-13">Package variables that need to be set before loading</h3>
<div class="outline-text-3" id="text-3-13">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Variables for packages that need to be set before loading</span>
<span style="color: #696969;">(</span>setq jedi:setup-keys t<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-4" class="outline-2">
<h2 id="sec-4">El-get</h2>
<div class="outline-text-2" id="text-4">
<p>
Sets up variables for storage locations and status files. If el-get
doesn't currently exist on the system, it downloads the initialization
file and tries to install it. After that, it will pull all packages in
the status file. This is useful for rebuilding from scratch in the git
repo, though it can take a really, really, REALLY long time.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>add-to-list 'load-path <span style="color: #696969;">(</span>expand-file-name <span style="color: #696969;">(</span>concat qdot/emacs-autoinst-elisp-dir <span style="color: #ffa07a;">"el-get"</span><span style="color: #696969;">)))</span>
<span style="color: #696969;">(</span>setq el-get-dir qdot/emacs-autoinst-elisp-dir<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq el-get-verbose t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq el-get-status-file <span style="color: #696969;">(</span>expand-file-name <span style="color: #696969;">(</span>concat qdot/emacs-conf-dir <span style="color: #ffa07a;">"elget-status.el"</span><span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">unless</span> <span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">el-get</span> nil t<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>url-retrieve
   <span style="color: #ffa07a;">"https://github.com/dimitri/el-get/raw/master/el-get-install.el"</span>
   <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">(</span>s<span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>end-of-buffer<span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>eval-print-last-sexp<span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span>el-get<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5" class="outline-2">
<h2 id="sec-5">External Packages</h2>
<div id="outline-container-5-1" class="outline-3">
<h3 id="sec-5-1">quick-yes</h3>
<div class="outline-text-3" id="text-5-1">
<p>
Use M-y and M-n in y-or-n minibuffer prompts
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">quick-yes</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-2" class="outline-3">
<h3 id="sec-5-2">icomplete</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>icomplete-mode 1<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq icomplete-compute-delay 0<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-3" class="outline-3">
<h3 id="sec-5-3">scel</h3>
<div class="outline-text-3" id="text-5-3">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>file-exists-p <span style="color: #ffa07a;">"~/.emacs_files/elisp_local/scel"</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> macosx-p
    <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Assume we're on a mac with SuperCollider in the normal spot</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>file-exists-p <span style="color: #ffa07a;">"/Applications/SuperCollider/sclang"</span><span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>add-to-list 'load-path <span style="color: #696969;">(</span>expand-file-name <span style="color: #ffa07a;">"~/.emacs_files/elisp_local/scel/el"</span><span style="color: #696969;">))</span>
      <span style="color: #696969;">(</span>custom-set-variables
       '<span style="color: #696969;">(</span>sclang-auto-scroll-post-buffer t<span style="color: #696969;">)</span>
       '<span style="color: #696969;">(</span>sclang-eval-line-forward nil<span style="color: #696969;">)</span>
       '<span style="color: #696969;">(</span>sclang-help-path <span style="color: #696969;">(</span>quote <span style="color: #696969;">(</span><span style="color: #ffa07a;">"/Applications/SuperCollider/Help"</span><span style="color: #696969;">)))</span>
       '<span style="color: #696969;">(</span>sclang-runtime-directory <span style="color: #ffa07a;">"~/.sclang/"</span><span style="color: #696969;">)</span>
       '<span style="color: #696969;">(</span>sclang-program <span style="color: #ffa07a;">"/Applications/SuperCollider/sclang"</span><span style="color: #696969;">))</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">sclang</span><span style="color: #696969;">))))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-4" class="outline-3">
<h3 id="sec-5-4">color-theme</h3>
<div class="outline-text-3" id="text-5-4">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>color-theme-initialize<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>color-theme-dark-laptop<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-5" class="outline-3">
<h3 id="sec-5-5">sml-modeline (scroll percentage info)</h3>
<div class="outline-text-3" id="text-5-5">
<p>
Modeline decorator to get rid of the horizontal scrollbar
</p>

<p>
Via <a href="http://emacs-fu.blogspot.com/2010/03/showing-buffer-position-in-mode-line.html" >http://emacs-fu.blogspot.com/2010/03/showing-buffer-position-in-mode-line.html</a>
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">sml-modeline</span> nil 'noerror<span style="color: #696969;">)</span>    <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">use sml-modeline if available</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">progn</span> 
      <span style="color: #696969;">(</span>sml-modeline-mode 1<span style="color: #696969;">)</span>                   <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">show buffer pos in the mode line</span>
      <span style="color: #696969;">(</span>scroll-bar-mode -1<span style="color: #696969;">))</span>                   <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">turn off the scrollbar</span>
  <span style="color: #696969;">(</span>scroll-bar-mode 1<span style="color: #696969;">)</span>                       <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">otherwise, show a scrollbar...</span>
  <span style="color: #696969;">(</span>set-scroll-bar-mode 'right<span style="color: #696969;">))</span>             <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">... on the right</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-6" class="outline-3">
<h3 id="sec-5-6">auto-complete</h3>
<div class="outline-text-3" id="text-5-6">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">auto-complete-config</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>ac-config-default<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>ac-flyspell-workaround<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>ac-linum-workaround<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-auto-complete-mode t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq ac-auto-start 3<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq ac-dwim t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>set-default 'ac-sources '<span style="color: #696969;">(</span>ac-source-yasnippet<span style="color: #696969;">))</span> <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">ac-source-semantic))</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ielm-auto-complete</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Enables `</span><span style="color: #ffa07a;">auto-complete</span><span style="color: #ffa07a;">' support in \\[</span><span style="color: #ffa07a;">ielm</span><span style="color: #ffa07a;">]."</span>
  <span style="color: #696969;">(</span>setq ac-sources '<span style="color: #696969;">(</span>ac-source-functions
         ac-source-variables
         ac-source-features
         ac-source-symbols
         ac-source-words-in-same-mode-buffers<span style="color: #696969;">))</span>
  <span style="color: #696969;">(</span>add-to-list 'ac-modes 'inferior-emacs-lisp-mode<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>auto-complete-mode 1<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>add-hook 'ielm-mode-hook 'ielm-auto-complete<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>define-key ac-complete-mode-map [tab] 'ac-expand<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-7" class="outline-3">
<h3 id="sec-5-7">recentf</h3>
<div class="outline-text-3" id="text-5-7">
<p>
<a href="http://www.masteringemacs.org/articles/2011/01/27/find-files-faster-recent-files-package/" >http://www.masteringemacs.org/articles/2011/01/27/find-files-faster-recent-files-package/</a>
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">recentf</span><span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">get rid of `</span><span style="color: #ff4500;">find-file-read-only</span><span style="color: #ff4500;">' and replace it with something</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">more useful.</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ido-recentf-open</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Use `</span><span style="color: #ffa07a;">ido-completing-read</span><span style="color: #ffa07a;">' to \\[</span><span style="color: #ffa07a;">find-file</span><span style="color: #ffa07a;">] a recent file"</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>find-file <span style="color: #696969;">(</span>ido-completing-read <span style="color: #ffa07a;">"Find recent file: "</span> recentf-list<span style="color: #696969;">))</span>
      <span style="color: #696969;">(</span>message <span style="color: #ffa07a;">"Opening file..."</span><span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>message <span style="color: #ffa07a;">"Aborting"</span><span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-x C-r"</span><span style="color: #696969;">)</span> 'ido-recentf-open<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">enable recent files mode.</span>
<span style="color: #696969;">(</span>recentf-mode t<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">50 files ought to be enough.</span>
<span style="color: #696969;">(</span>setq recentf-max-saved-items 50<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">link numbering for twittering mode</span>
<span style="color: #696969;">(</span>add-hook 'eshell-preoutput-filter-functions
    'ansi-color-filter-apply<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-8" class="outline-3">
<h3 id="sec-5-8">twittering-mode</h3>
<div class="outline-text-3" id="text-5-8">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">twittering-numbering</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'twittering-mode-hook 'twittering-numbering<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq twittering-icon-mode t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq twittering-timer-interval 600<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq twittering-url-show-status nil<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'twittering-edit-mode-hook <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span> 
               <span style="color: #696969;">(</span>ispell-minor-mode<span style="color: #696969;">)</span> 
               <span style="color: #696969;">(</span>flyspell-mode<span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-9" class="outline-3">
<h3 id="sec-5-9">bbdb</h3>
<div class="outline-text-3" id="text-5-9">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>bbdb-initialize 'gnus 'message<span style="color: #696969;">)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(bbdb-mua-auto-update-init 'gnus 'message)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Most of the following ripped from</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">http://emacs-fu.blogspot.com/2009/08/managing-e-mail-addresses-with-bbdb.html</span>
<span style="color: #696969;">(</span>setq
 bbdb-offer-save 1
 bbdb-phone-style 'nil
 bbdb-use-pop-up t <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">allow popups for addresses</span>
 bbdb-electric-p t <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">be disposable with SPC</span>
 bbdb-popup-target-lines 1 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">very small</span>

 bbdb-dwim-net-address-allow-redundancy t <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">always use full name</span>
 bbdb-quiet-about-name-mismatches 2 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">show name-mismatches 2 secs</span>

 bbdb-north-american-phone-numbers-p nil <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Make sure that telephone numbers are international</span>

 bbdb-always-add-address t <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">add new addresses to existing contacts automatically</span>
 bbdb-canonicalize-redundant-nets-p t <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">x@foo.bar.cx =&gt; x@bar.cx</span>

 bbdb-completion-type nil <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">complete on anything</span>

 bbdb-complete-name-allow-cycling t <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">cycle through matches</span>
 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">this only works partially</span>

 bbdb-message-caching-enabled t <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">be fast</span>
 bbdb-use-alternate-names t <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">use AKA</span>

 bbdb-elided-display t <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">single-line addressesq</span>

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">auto-create addresses from mail</span>
 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">bbdb/mail-auto-create-p 'bbdb-ignore-some-messages-hook</span>
 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">bbdb-ignore-some-messages-alist ;; don't ask about fake addresses</span>
 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">NOTE: there can be only one entry per header (such as To, From)</span>
 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">http://flex.ee.uec.ac.jp/texi/bbdb/bbdb_11.html</span>

 <span style="color: #ff4500;">;;</span><span style="color: #ff4500;">'(( "From" . "no.?reply\\|DAEMON\\|daemon\\|facebookmail\\|twitter")))</span>
 bbdb/mail-auto-create-p nil<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-10" class="outline-3">
<h3 id="sec-5-10">calfw</h3>
<div class="outline-text-3" id="text-5-10">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">org-compat</span><span style="color: #696969;">)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(require 'calfw)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(require 'calfw-org)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-11" class="outline-3">
<h3 id="sec-5-11">popwin</h3>
<div class="outline-text-3" id="text-5-11">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(require 'popwin)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(setq display-buffer-function 'popwin:display-buffer)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-12" class="outline-3">
<h3 id="sec-5-12">yasnippet</h3>
<div class="outline-text-3" id="text-5-12">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;; </span><span style="color: #ff4500;">This will completely shit itself on HEAD as of 24.3 due to silly macro</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">definitions for called-interactively-p. Currently commenting those out in</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">yasnippet itself.</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">yasnippet</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>yas-global-mode 1<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>yas/load-directory <span style="color: #ffa07a;">"~/.emacs_files/elisp_auto/yasnippet/snippets"</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-13" class="outline-3">
<h3 id="sec-5-13">diminish</h3>
<div class="outline-text-3" id="text-5-13">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">diminish</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>diminish 'yas-minor-mode <span style="color: #ffa07a;">" y"</span><span style="color: #696969;">)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(diminish 'org-indent-mode " i")</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(diminish 'workgroups-mode " &#969;")</span>
<span style="color: #696969;">(</span>diminish 'auto-complete-mode <span style="color: #ffa07a;">" &#945;"</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-5-14" class="outline-3">
<h3 id="sec-5-14">ido</h3>
<div class="outline-text-3" id="text-5-14">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">ido</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>ido-mode t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>ido-everywhere t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq ido-enable-flex-matching t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq ido-execute-command-cache nil<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq ido-create-new-buffer 'always<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-15" class="outline-3">
<h3 id="sec-5-15">uniquify</h3>
<div class="outline-text-3" id="text-5-15">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">uniquify</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq uniquify-buffer-name-style 'reverse<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq uniquify-separator <span style="color: #ffa07a;">"|"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq uniquify-after-kill-buffer-p t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq uniquify-ignore-buffers-re <span style="color: #ffa07a;">"^\\*"</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-16" class="outline-3">
<h3 id="sec-5-16">windmove</h3>
<div class="outline-text-3" id="text-5-16">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">windmove</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>fboundp 'windmove-default-keybindings<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>windmove-default-keybindings<span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-17" class="outline-3">
<h3 id="sec-5-17">saveplace</h3>
<div class="outline-text-3" id="text-5-17">
<p>
Make sure I always come back to the same place in a file
<a href="http://groups.google.com/group/comp.emacs/browse_thread/thread/c5e4c18b77a18512" >http://groups.google.com/group/comp.emacs/browse_thread/thread/c5e4c18b77a18512</a>
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>setq-default save-place t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">saveplace</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-18" class="outline-3">
<h3 id="sec-5-18">tramp</h3>
<div class="outline-text-3" id="text-5-18">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">tramp</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq tramp-default-method <span style="color: #ffa07a;">"ssh"</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-19" class="outline-3">
<h3 id="sec-5-19">ibuffer</h3>
<div class="outline-text-3" id="text-5-19">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">ibuffer</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq ibuffer-default-sorting-mode 'major-mode<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq ibuffer-always-show-last-buffer t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq ibuffer-view-ibuffer t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq ibuffer-show-empty-filter-groups nil<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Set up buffer groups based on file and mode types</span>
<span style="color: #696969;">(</span>setq ibuffer-saved-filter-groups
      <span style="color: #696969;">(</span>quote <span style="color: #696969;">((</span><span style="color: #ffa07a;">"default"</span>
               <span style="color: #696969;">(</span><span style="color: #ffa07a;">"Org"</span> <span style="color: #696969;">(</span>mode . org-mode<span style="color: #696969;">))</span>
               <span style="color: #696969;">(</span><span style="color: #ffa07a;">"ERC"</span> <span style="color: #696969;">(</span>mode . erc-mode<span style="color: #696969;">))</span>
               <span style="color: #696969;">(</span><span style="color: #ffa07a;">"Emacs Setup"</span> <span style="color: #696969;">(</span>or
                               <span style="color: #696969;">(</span>filename . <span style="color: #ffa07a;">"/.emacs_files/"</span><span style="color: #696969;">)</span>
                               <span style="color: #696969;">(</span>filename . <span style="color: #ffa07a;">"/.emacs_d/"</span><span style="color: #696969;">)</span>
                               <span style="color: #696969;">(</span>filename . <span style="color: #ffa07a;">"/emacs_d/"</span><span style="color: #696969;">)))</span>
               <span style="color: #696969;">(</span><span style="color: #ffa07a;">"magit"</span> <span style="color: #696969;">(</span>name . <span style="color: #ffa07a;">"magit"</span><span style="color: #696969;">))</span>
               <span style="color: #696969;">(</span><span style="color: #ffa07a;">"dired"</span> <span style="color: #696969;">(</span>mode . dired-mode<span style="color: #696969;">))</span>
               <span style="color: #696969;">(</span><span style="color: #ffa07a;">"work projects"</span> <span style="color: #696969;">(</span>filename . <span style="color: #ffa07a;">"/mozbuild/"</span><span style="color: #696969;">))</span>
               <span style="color: #696969;">(</span><span style="color: #ffa07a;">"home projects"</span> <span style="color: #696969;">(</span>filename . <span style="color: #ffa07a;">"/git-projects/"</span><span style="color: #696969;">))</span>
               <span style="color: #696969;">(</span><span style="color: #ffa07a;">"emacs"</span> <span style="color: #696969;">(</span>or
                         <span style="color: #696969;">(</span>name . <span style="color: #ffa07a;">"^\\*scratch\\*$"</span><span style="color: #696969;">)</span>
                         <span style="color: #696969;">(</span>name . <span style="color: #ffa07a;">"^\\*Messages\\*$"</span><span style="color: #696969;">)))))))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Make sure we're always using our buffer groups</span>
<span style="color: #696969;">(</span>add-hook 'ibuffer-mode-hook
          <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span>
            <span style="color: #696969;">(</span>ibuffer-switch-to-saved-filter-groups <span style="color: #ffa07a;">"default"</span><span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-20" class="outline-3">
<h3 id="sec-5-20">ansi-color</h3>
<div class="outline-text-3" id="text-5-20">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">ansi-color</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'shell-mode-hook 'ansi-color-for-comint-mode-on<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-21" class="outline-3">
<h3 id="sec-5-21">dired</h3>
<div class="outline-text-3" id="text-5-21">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;; </span><span style="color: #ff4500;">dired modifications</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">one dired buffer, damnit</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">taken from http://bitbucket.org/kcfelix/emacsd/src/tip/init.el</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/dired-init</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Bunch of stuff to run for dired, either immediately or when it's</span>
<span style="color: #ffa07a;">        loaded."</span>
  <span style="color: #696969;">(</span>define-key dired-mode-map <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-s"</span><span style="color: #696969;">)</span> 'dired-isearch-filenames-regexp<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>define-key dired-mode-map <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-M-s"</span><span style="color: #696969;">)</span> 'dired-isearch-filenames<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>define-key dired-mode-map [return] 'joc-dired-single-buffer<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>define-key dired-mode-map <span style="color: #ffa07a;">"v"</span> 'joc-dired-single-buffer<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>define-key dired-mode-map [mouse-1] 'joc-dired-single-buffer-mouse<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>define-key dired-mode-map <span style="color: #ffa07a;">"^"</span>
    <span style="color: #696969;">(</span>function
     <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> nil <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>joc-dired-single-buffer <span style="color: #ffa07a;">".."</span><span style="color: #696969;">)))))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">if dired's already loaded, then the keymap will be bound</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>boundp 'dired-mode-map<span style="color: #696969;">)</span>
    <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">we're good to go; just add our bindings</span>
    <span style="color: #696969;">(</span>qdot/dired-init<span style="color: #696969;">)</span>
  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">it's not loaded yet, so add our bindings to the load-hook</span>
  <span style="color: #696969;">(</span>add-hook 'dired-load-hook 'qdot/dired-init<span style="color: #696969;">))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Additions to dired</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">http://nflath.com/2009/07/dired/</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">dired-x</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">wdired</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq wdired-allow-to-change-permissions 'advanced<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>define-key dired-mode-map                    <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"r"</span><span style="color: #696969;">)</span>         'wdired-change-to-wdired-mode<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">Updated file system on all buffer switches if in dired mode</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defadvice</span> <span style="color: #87cefa;">switch-to-buffer-other-window</span> <span style="color: #696969;">(</span>after auto-refresh-dired <span style="color: #696969;">(</span>buffer &amp;optional norecord<span style="color: #696969;">)</span> activate<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>equal major-mode 'dired-mode<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>revert-buffer<span style="color: #696969;">)))</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defadvice</span> <span style="color: #87cefa;">switch-to-buffer</span> <span style="color: #696969;">(</span>after auto-refresh-dired <span style="color: #696969;">(</span>buffer &amp;optional norecord<span style="color: #696969;">)</span> activate<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>equal major-mode 'dired-mode<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>revert-buffer<span style="color: #696969;">)))</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defadvice</span> <span style="color: #87cefa;">display-buffer</span> <span style="color: #696969;">(</span>after auto-refresh-dired <span style="color: #696969;">(</span>buffer &amp;optional not-this-window frame<span style="color: #696969;">)</span>  activate<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>equal major-mode 'dired-mode<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>revert-buffer<span style="color: #696969;">)))</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defadvice</span> <span style="color: #87cefa;">other-window</span> <span style="color: #696969;">(</span>after auto-refresh-dired <span style="color: #696969;">(</span>arg &amp;optional all-frame<span style="color: #696969;">)</span> activate<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>equal major-mode 'dired-mode<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>revert-buffer<span style="color: #696969;">)))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">http://whattheemacsd.com//setup-dired.el-02.html</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">dired-back-to-top</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>beginning-of-buffer<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>dired-next-line <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> dired-omit-mode 2 4<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span>define-key dired-mode-map
  <span style="color: #696969;">(</span>vector 'remap 'beginning-of-buffer<span style="color: #696969;">)</span> 'dired-back-to-top<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">dired-jump-to-bottom</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>end-of-buffer<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>dired-next-line -1<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span>define-key dired-mode-map
  <span style="color: #696969;">(</span>vector 'remap 'end-of-buffer<span style="color: #696969;">)</span> 'dired-jump-to-bottom<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-22" class="outline-3">
<h3 id="sec-5-22">magit</h3>
<div class="outline-text-3" id="text-5-22">
<p>
(if macosx-p
    (custom-set-variables
     '(magit-git-executable "/usr/local/git/bin/git")))
</p>

<p>
;; Turn on narrowing
(put 'narrow-to-region 'disabled nil)
</p>
</div>
</div>
<div id="outline-container-5-23" class="outline-3">
<h3 id="sec-5-23">easy-pg</h3>
<div class="outline-text-3" id="text-5-23">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Turn on easy-pg</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">epa-file</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>epa-file-enable<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq epa-file-cache-passphrase-for-symmetric-encryption t<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-24" class="outline-3">
<h3 id="sec-5-24">twittering-mode</h3>
<div class="outline-text-3" id="text-5-24">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Twittering additions</span>
<span style="color: #696969;">(</span>add-hook 'twittering-mode-hook <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span> <span style="color: #696969;">(</span>visual-line-mode 1<span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-25" class="outline-3">
<h3 id="sec-5-25">mu4e</h3>
<div class="outline-text-3" id="text-5-25">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">mu4e-vars</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> linux-p
  <span style="color: #696969;">(</span>setq mu4e-mu-binary <span style="color: #ffa07a;">"/home/qdot/usr/bin/mu"</span><span style="color: #696969;">))</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> macosx-p
  <span style="color: #696969;">(</span>setq mu4e-mu-binary <span style="color: #ffa07a;">"/opt/homebrew/bin/mu"</span><span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>setq mu4e-maildir <span style="color: #ffa07a;">"~/Mail"</span><span style="color: #696969;">)</span> <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">top-level Maildir</span>
<span style="color: #696969;">(</span>setq mu4e-html2text-command <span style="color: #ffa07a;">"w3m -dump -T text/html"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq mu4e-view-prefer-html t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq mu4e-use-fancy-chars t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq mu4e-get-mail-command <span style="color: #ffa07a;">"offlineimap"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq mu4e-update-interval 300<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq mu4e-attachment-dir  <span style="color: #ffa07a;">"~/Downloads"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>fboundp 'imagemagick-register-types<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>imagemagick-register-types<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>setq mu4e-view-show-images t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq mu4e-view-show-addresses t<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">setup some handy shortcuts</span>
<span style="color: #696969;">(</span>setq mu4e-maildir-shortcuts
      '<span style="color: #696969;">((</span><span style="color: #ffa07a;">"/nonpolynomial/INBOX"</span>             . ?i<span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span><span style="color: #ffa07a;">"/mozilla/INBOX"</span>             . ?m<span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span><span style="color: #ffa07a;">"/nonpolynomial/Mozilla.bugzilla"</span>             . ?b<span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span><span style="color: #ffa07a;">"/[Gmail].Sent Mail"</span> . ?s<span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span><span style="color: #ffa07a;">"/[Gmail].Trash"</span>     . ?t<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span>setq qdot/mu4e-account-alist
  '<span style="color: #696969;">((</span><span style="color: #ffa07a;">"nonpolynomial"</span>
     <span style="color: #696969;">(</span>mu4e-sent-folder <span style="color: #ffa07a;">"/nonpolynomial/[Gmail].Sent Mail"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>mu4e-drafts-folder <span style="color: #ffa07a;">"/nonpolynomial/[Gmail].Drafts"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>user-mail-address <span style="color: #ffa07a;">"kyle@nonpolynomial.com"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>smtpmail-default-smtp-server <span style="color: #ffa07a;">"smtp.gmail.com"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>smtpmail-local-domain <span style="color: #ffa07a;">"nonpolynomial.com"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>smtpmail-smtp-server <span style="color: #ffa07a;">"smtp.gmail.com"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>smtpmail-stream-type starttls<span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>smtpmail-smtp-service 587<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span><span style="color: #ffa07a;">"mozilla"</span>
     <span style="color: #696969;">(</span>mu4e-sent-folder <span style="color: #ffa07a;">"/mozilla/Sent"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>mu4e-drafts-folder <span style="color: #ffa07a;">"/mozilla/Drafts"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>user-mail-address <span style="color: #ffa07a;">"kmachulis@mozilla.com"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>smtpmail-default-smtp-server <span style="color: #ffa07a;">"smtp."</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>smtpmail-local-domain <span style="color: #ffa07a;">"mozilla.com"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>smtpmail-smtp-server <span style="color: #ffa07a;">"smtp.gmail.com"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>smtpmail-stream-type starttls<span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>smtpmail-smtp-service 587<span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span>add-to-list 'mu4e-bookmarks
             '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"maildir:/nonpolynomial/INBOX flag:unread"</span> <span style="color: #ffa07a;">"Nonpolynomial Unread"</span> ?n<span style="color: #696969;">)</span> t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-to-list 'mu4e-bookmarks
             '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"maildir:/mozilla/INBOX flag:unread"</span> <span style="color: #ffa07a;">"Mozilla Unread"</span> ?m<span style="color: #696969;">)</span> t<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>setq mail-user-agent 'mu4e-user-agent<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">org-mu4e</span><span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/mu4e-set-account</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Set the account for composing a message."</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">let*</span> <span style="color: #696969;">((</span>account
          <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> mu4e-compose-parent-message
              <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>maildir <span style="color: #696969;">(</span>mu4e-message-field mu4e-compose-parent-message :maildir<span style="color: #696969;">)))</span>
                <span style="color: #696969;">(</span>string-match <span style="color: #ffa07a;">"/</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">(</span><span style="color: #ffa07a;">.*?</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">)</span><span style="color: #ffa07a;">/"</span> maildir<span style="color: #696969;">)</span>
                <span style="color: #696969;">(</span>match-string 1 maildir<span style="color: #696969;">))</span>
            <span style="color: #696969;">(</span>completing-read <span style="color: #696969;">(</span>format <span style="color: #ffa07a;">"Compose with account: (%s) "</span>
                                     <span style="color: #696969;">(</span>mapconcat #'<span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">(</span>var<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>car var<span style="color: #696969;">))</span> qdot/mu4e-account-alist <span style="color: #ffa07a;">"/"</span><span style="color: #696969;">))</span>
                             <span style="color: #696969;">(</span>mapcar #'<span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">(</span>var<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>car var<span style="color: #696969;">))</span> qdot/mu4e-account-alist<span style="color: #696969;">)</span>
                             nil t nil nil <span style="color: #696969;">(</span>caar qdot/mu4e-account-alist<span style="color: #696969;">))))</span>
         <span style="color: #696969;">(</span>account-vars <span style="color: #696969;">(</span>cdr <span style="color: #696969;">(</span>assoc account qdot/mu4e-account-alist<span style="color: #696969;">))))</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> account-vars
        <span style="color: #696969;">(</span>mapc #'<span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">(</span>var<span style="color: #696969;">)</span>
                  <span style="color: #696969;">(</span>set <span style="color: #696969;">(</span>car var<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>cadr var<span style="color: #696969;">)))</span>
              account-vars<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span><span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"No email account found"</span><span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span>add-hook 'mu4e-compose-pre-hook 'qdot/mu4e-set-account<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">gnus-dired</span><span style="color: #696969;">)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">make the `</span><span style="color: #ff4500;">gnus-dired-mail-buffers</span><span style="color: #ff4500;">' function also work on</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">message-mode derived modes, such as mu4e-compose-mode</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">gnus-dired-mail-buffers</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Return a list of active message buffers."</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">(</span>buffers<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">save-current-buffer</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">dolist</span> <span style="color: #696969;">(</span>buffer <span style="color: #696969;">(</span>buffer-list t<span style="color: #696969;">))</span>
        <span style="color: #696969;">(</span>set-buffer buffer<span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>and <span style="color: #696969;">(</span>derived-mode-p 'message-mode<span style="color: #696969;">)</span>
                   <span style="color: #696969;">(</span>null message-sent-message-via<span style="color: #696969;">))</span>
          <span style="color: #696969;">(</span>push <span style="color: #696969;">(</span>buffer-name buffer<span style="color: #696969;">)</span> buffers<span style="color: #696969;">))))</span>
    <span style="color: #696969;">(</span>nreverse buffers<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span>setq gnus-dired-mail-mode 'mu4e-user-agent<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'dired-mode-hook 'turn-on-gnus-dired-mode<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-5-26" class="outline-3">
<h3 id="sec-5-26">smtpmail</h3>
<div class="outline-text-3" id="text-5-26">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;; </span><span style="color: #ff4500;">sending mail -- replace USERNAME with your gmail username</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">also, make sure the gnutls command line utils are installed</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">package 'gnutls-bin' in Debian/Ubuntu, 'gnutls' in Archlinux.</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">smtpmail</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq message-send-mail-function 'smtpmail-send-it
      starttls-use-gnutls t
      smtpmail-starttls-credentials
      '<span style="color: #696969;">((</span><span style="color: #ffa07a;">"smtp.gmail.com"</span> 587 nil nil<span style="color: #696969;">))</span>
      smtpmail-auth-credentials
      '<span style="color: #696969;">((</span><span style="color: #ffa07a;">"smtp.gmail.com"</span> 587 <span style="color: #ffa07a;">"kyle@nonpolynomial.com"</span> nil<span style="color: #696969;">))</span>
      smtpmail-default-smtp-server <span style="color: #ffa07a;">"smtp.gmail.com"</span>
      smtpmail-smtp-server <span style="color: #ffa07a;">"smtp.gmail.com"</span>
      smtpmail-smtp-service 587
      smtpmail-debug-info t<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>setq smtpmail-queue-mail  nil  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">start in non-queuing mode</span>
      smtpmail-queue-dir   <span style="color: #ffa07a;">"~/Mail/queue/cur"</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-27" class="outline-3">
<h3 id="sec-5-27">message-mode</h3>
<div class="outline-text-3" id="text-5-27">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;; </span><span style="color: #ff4500;">add Cc and Bcc headers to the message buffer</span>
<span style="color: #696969;">(</span>setq message-default-mail-headers <span style="color: #ffa07a;">"Cc: \nBcc: \n"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq message-kill-buffer-on-exit t<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-5-28" class="outline-3">
<h3 id="sec-5-28">sauron</h3>
<div class="outline-text-3" id="text-5-28">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span>setq sauron-separate-frame nil<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq sauron-dbus-cookie t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq
 sauron-max-line-length 200
 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">60 was a little long, and there's a lot of times I switch away quickly after</span>
 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">replying.</span>
 sauron-nick-insensitivity 5

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">uncomment to show sauron in the current frame</span>
 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">sauron-separate-frame nil</span>


<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/monkey-patch-sr</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Monkeypatching sauron's ERC hook until I write a msg string formatter for it</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">sr-erc-PRIVMSG-hook-func</span> <span style="color: #696969;">(</span>proc parsed<span style="color: #696969;">)</span>
    <span style="color: #ffa07a;">"Hook function, to be called for erc-matched-hook."</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">let*</span> <span style="color: #696969;">(</span> <span style="color: #696969;">(</span>me      <span style="color: #696969;">(</span>erc-current-nick<span style="color: #696969;">))</span>
            <span style="color: #696969;">(</span>sender  <span style="color: #696969;">(</span>car <span style="color: #696969;">(</span>erc-parse-user <span style="color: #696969;">(</span>erc-response.sender parsed<span style="color: #696969;">))))</span>
            <span style="color: #696969;">(</span>channel <span style="color: #696969;">(</span>car <span style="color: #696969;">(</span>erc-response.command-args parsed<span style="color: #696969;">)))</span>
            <span style="color: #696969;">(</span>msg     <span style="color: #696969;">(</span>sr-erc-msg-clean <span style="color: #696969;">(</span>erc-response.contents parsed<span style="color: #696969;">)))</span>
            <span style="color: #696969;">(</span>nw      <span style="color: #696969;">(</span>symbol-name <span style="color: #696969;">(</span>erc-network<span style="color: #696969;">)))</span>
            <span style="color: #696969;">(</span>for-me  <span style="color: #696969;">(</span>string= me channel<span style="color: #696969;">))</span>
            <span style="color: #696969;">(</span>prio
             <span style="color: #696969;">(</span><span style="color: #00ffff;">cond</span>
              <span style="color: #696969;">((</span>string= sender <span style="color: #ffa07a;">"root"</span><span style="color: #696969;">)</span> 2<span style="color: #696969;">)</span>  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">e.g. bitlbee stuff; low-prio</span>
              <span style="color: #696969;">(</span>for-me                  3<span style="color: #696969;">)</span>  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">private msg for me =&gt; prio 4</span>
              <span style="color: #696969;">((</span>string-match me msg<span style="color: #696969;">)</span>   3<span style="color: #696969;">)</span>  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">I'm mentioned =&gt; prio 3</span>
              <span style="color: #696969;">(</span>t       2<span style="color: #696969;">)))</span>  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">default</span>
            <span style="color: #696969;">(</span>target <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>buffer-live-p <span style="color: #696969;">(</span>get-buffer channel<span style="color: #696969;">))</span>
                        <span style="color: #696969;">(</span><span style="color: #00ffff;">with-current-buffer</span> <span style="color: #696969;">(</span>get-buffer channel<span style="color: #696969;">)</span>
                          <span style="color: #696969;">(</span>point-marker<span style="color: #696969;">)))))</span>
      <span style="color: #696969;">(</span>sauron-add-event
       'erc
       prio
       <span style="color: #696969;">(</span>concat
        <span style="color: #696969;">(</span>propertize sender 'face 'sauron-highlight1-face<span style="color: #696969;">)</span> <span style="color: #ffa07a;">"@"</span>
        <span style="color: #696969;">(</span>propertize channel 'face 'sauron-highlight2-face<span style="color: #696969;">)</span> <span style="color: #ffa07a;">" on "</span>
        <span style="color: #696969;">(</span>propertize nw 'face 'sauron-highlight2-face<span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>string-match <span style="color: #ffa07a;">"#"</span> channel<span style="color: #696969;">)</span>
            <span style="color: #696969;">(</span>propertize <span style="color: #ffa07a;">" msg"</span> 'face 'sauron-highlight1-face<span style="color: #696969;">)</span>
          <span style="color: #696969;">(</span>propertize <span style="color: #ffa07a;">" privmsg"</span> 'face 'sauron-highlight1-face<span style="color: #696969;">)))</span>
       <span style="color: #696969;">(</span><span style="color: #00ffff;">lexical-let*</span> <span style="color: #696969;">((</span>target-mark target<span style="color: #696969;">)</span>
                      <span style="color: #696969;">(</span>target-buf <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> for-me sender channel<span style="color: #696969;">)))</span>
         <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span>
           <span style="color: #696969;">(</span>sauron-switch-to-marker-or-buffer <span style="color: #696969;">(</span>or target-mark target-buf<span style="color: #696969;">))))</span>
       `<span style="color: #696969;">(</span> :event   privmsg
                   :sender ,sender
                   :me     ,me
                   :channel ,channel
                   :msg    ,msg<span style="color: #696969;">)))</span>
    nil<span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-5-29" class="outline-3">
<h3 id="sec-5-29">workgroups</h3>
<div class="outline-text-3" id="text-5-29">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Set the prefix key to tilde, what I normally use in screen</span>
<span style="color: #696969;">(</span>setq wg-prefix-key <span style="color: #ffa07a;">"`"</span><span style="color: #696969;">)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Turn off animations</span>
<span style="color: #696969;">(</span>setq wg-morph-on nil<span style="color: #696969;">)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Turn off saving on exit</span>
<span style="color: #696969;">(</span>setq wg-emacs-exit-save-behavior nil<span style="color: #696969;">)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Turn off reloading of workgroup file lists</span>
<span style="color: #696969;">(</span>setq wg-restore-associated-buffers nil<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>setq wg-switch-to-first-workgroup-on-find-session-file nil<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Due to some buffers having issues when reloading (erc), uids start</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">to mismatch which massively trips up workgroups. This is function</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">redefinition allows us to set the action when a mismatch happens.</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defvar</span> <span style="color: #eedd82;">wg-error-on-uid-mismatch</span> t
  <span style="color: #ffa07a;">"Whether or not we should throw an error when buffer uids</span>
<span style="color: #ffa07a;">mismatch, or just throw a message and reset them to what we think</span>
<span style="color: #ffa07a;">they should be."</span><span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>setq wg-error-on-uid-mismatch nil<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">wg-set-buffer-uid-or-error</span> <span style="color: #696969;">(</span>uid &amp;optional buffer<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Set BUFFER's buffer local value of `</span><span style="color: #ffa07a;">wg-buffer-uid</span><span style="color: #ffa07a;">' to UID.</span>
<span style="color: #ffa07a;">If BUFFER already has a buffer local value of `</span><span style="color: #ffa07a;">wg-buffer-uid</span><span style="color: #ffa07a;">',</span>
<span style="color: #ffa07a;">and it's not equal to UID, error."</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> wg-buffer-uid
      <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>string= wg-buffer-uid uid<span style="color: #696969;">)</span> uid
  <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> wg-error-on-uid-mismatch
      <span style="color: #696969;">(</span><span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"uids don't match %S and %S for %S"</span> 
       uid wg-buffer-uid
       <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> buffer <span style="color: #696969;">(</span>buffer-name buffer<span style="color: #696969;">)</span> 
         <span style="color: #696969;">(</span>buffer-name <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">))))</span>
    <span style="color: #696969;">(</span>setq wg-buffer-uid uid<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>message <span style="color: #ffa07a;">"uids don't match %S and %S for %S"</span> 
       uid wg-buffer-uid
       <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> buffer <span style="color: #696969;">(</span>buffer-name buffer<span style="color: #696969;">)</span> 
         <span style="color: #696969;">(</span>buffer-name <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">))))))</span>
    <span style="color: #696969;">(</span>setq wg-buffer-uid uid<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span>workgroups-mode 1<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/wg-filter-buffer-list-by-not-major-mode</span> <span style="color: #696969;">(</span>major-mode buffer-list<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Return only those buffers in BUFFER-LIST in major-mode MAJOR-MODE."</span>
  <span style="color: #696969;">(</span>remove-if <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">(</span>mm<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>eq mm major-mode<span style="color: #696969;">))</span>
       buffer-list :key 'wg-buffer-major-mode<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/wg-filter-buffer-list-by-erc-query</span> <span style="color: #696969;">(</span>server buffer-list<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Return only those buffers in BUFFER-LIST in major-mode MAJOR-MODE."</span>
  <span style="color: #696969;">(</span>remove-if-not <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">(</span>buf<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>erc-query-buffer-p <span style="color: #696969;">(</span>get-buffer buf<span style="color: #696969;">)))</span>
     buffer-list :key 'buffer-name<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/wg-buffer-list-filter-not-irc</span> <span style="color: #696969;">(</span>workgroup buffer-list<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Return only those buffers in BUFFER-LIST in `</span><span style="color: #ffa07a;">erc-mode</span><span style="color: #ffa07a;">'."</span>
  <span style="color: #696969;">(</span>qdot/wg-filter-buffer-list-by-not-major-mode 'erc-mode buffer-list<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/wg-buffer-list-filter-associated-not-irc</span> <span style="color: #696969;">(</span>workgroup buffer-list<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Return only those buffers in BUFFER-LIST in `</span><span style="color: #ffa07a;">erc-mode</span><span style="color: #ffa07a;">'."</span>
  <span style="color: #696969;">(</span>qdot/wg-filter-buffer-list-by-not-major-mode
   'erc-mode <span style="color: #696969;">(</span>wg-buffer-list-filter-associated workgroup buffer-list<span style="color: #696969;">)))</span>


<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/wg-buffer-list-filter-erc-channel</span> <span style="color: #696969;">(</span>workgroup buffer-list<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Return only those buffers in BUFFER-LIST in `</span><span style="color: #ffa07a;">erc-mode</span><span style="color: #ffa07a;">'."</span>
  <span style="color: #696969;">(</span>wg-filter-buffer-list-by-regexp 
   <span style="color: #ffa07a;">"^#"</span> <span style="color: #696969;">(</span>wg-filter-buffer-list-by-major-mode 'erc-mode buffer-list<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/wg-buffer-list-filter-erc-query</span> <span style="color: #696969;">(</span>workgroup buffer-list<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Return only those buffers in BUFFER-LIST in `</span><span style="color: #ffa07a;">erc-mode</span><span style="color: #ffa07a;">'."</span>
  <span style="color: #696969;">(</span>qdot/wg-filter-buffer-list-by-erc-query 'erc-mode buffer-list<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span>add-to-list
 'wg-buffer-list-filter-definitions
 '<span style="color: #696969;">(</span>qdot/erc-query <span style="color: #ffa07a;">"qdot/erc-query"</span> qdot/wg-buffer-list-filter-erc-query<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>add-to-list
 'wg-buffer-list-filter-definitions
 '<span style="color: #696969;">(</span>qdot/erc-irc <span style="color: #ffa07a;">"qdot/erc-channel"</span> qdot/wg-buffer-list-filter-erc-channel<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>add-to-list
 'wg-buffer-list-filter-definitions
 '<span style="color: #696969;">(</span>qdot/not-irc <span style="color: #ffa07a;">"qdot/not-irc"</span> qdot/wg-buffer-list-filter-not-irc<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span>add-to-list
 'wg-buffer-list-filter-definitions
 '<span style="color: #696969;">(</span>qdot/associated-not-irc <span style="color: #ffa07a;">"qdot/associated-not-irc"</span> 
         qdot/wg-buffer-list-filter-associated-not-irc<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/wg-set-buffer-lists</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>wg-set-workgroup-parameter <span style="color: #696969;">(</span>wg-get-workgroup <span style="color: #ffa07a;">"work"</span><span style="color: #696969;">)</span> 
              'wg-buffer-list-filter-order-alist 
              '<span style="color: #696969;">((</span>default qdot/associated-not-irc qdot/not-irc all<span style="color: #696969;">)))</span>
  <span style="color: #696969;">(</span>wg-set-workgroup-parameter <span style="color: #696969;">(</span>wg-get-workgroup <span style="color: #ffa07a;">"scratch"</span><span style="color: #696969;">)</span>
            'wg-buffer-list-filter-order-alist 
            '<span style="color: #696969;">((</span>qdot/not-irc all<span style="color: #696969;">)))</span>
  <span style="color: #696969;">(</span>wg-set-workgroup-parameter <span style="color: #696969;">(</span>wg-get-workgroup <span style="color: #ffa07a;">"erc"</span><span style="color: #696969;">)</span> 
            'wg-buffer-list-filter-order-alist 
            '<span style="color: #696969;">((</span>default qdot/erc-irc all<span style="color: #696969;">)))</span>
  <span style="color: #696969;">(</span>wg-set-workgroup-parameter <span style="color: #696969;">(</span>wg-get-workgroup <span style="color: #ffa07a;">"bitlbee"</span><span style="color: #696969;">)</span> 
            'wg-buffer-list-filter-order-alist 
            '<span style="color: #696969;">((</span>default qdot/erc-query all<span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/wg-load</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>wg-find-session-file <span style="color: #696969;">(</span>concat qdot/emacs-conf-dir <span style="color: #ffa07a;">"workgroups/linux-wg.el"</span><span style="color: #696969;">))</span>
  <span style="color: #696969;">(</span>qdot/wg-set-buffer-lists<span style="color: #696969;">))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(wg-filter-buffer-list-by-major-mode 'erc-mode (buffer-list))</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(wg-filter-buffer-list-by-not-major-mode 'erc-mode (buffer-list))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(defvar qdot/reallocate-query-buffer-trigger t</span>
<span style="color: #ff4500;">;;  </span><span style="color: #ff4500;">"Used to know when to trigger a query buffer reallocation on workgroup change")</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(defun qdot/trigger-reallocate-query-buffers (proc parsed)</span>
<span style="color: #ff4500;">;;  </span><span style="color: #ff4500;">(setq qdot/reallocate-query-buffer-trigger t))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(add-hook 'erc-server-PRIVMSG-functions 'qdot/trigger-reallocate-query-buffers)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">;; Auto-place IM windows when switching to bitlbee workgroup</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(add-hook 'wg-switch-to-workgroup-hook </span>
<span style="color: #ff4500;">;;    </span><span style="color: #ff4500;">(lambda () </span>
<span style="color: #ff4500;">;;        </span><span style="color: #ff4500;">(when (and qdot/reallocate-query-buffer-trigger</span>
<span style="color: #ff4500;">;;                 </span><span style="color: #ff4500;">(eq (wg-get-workgroup "bitlbee") (wg-current-workgroup)))</span>
<span style="color: #ff4500;">;;        </span><span style="color: #ff4500;">(qdot/bitlbee-resume-layout)</span>
<span style="color: #ff4500;">;;        </span><span style="color: #ff4500;">(setq qdot/reallocate-query-buffer-trigger nil))</span>
<span style="color: #ff4500;">;;      </span><span style="color: #ff4500;">(when (eq (wg-get-workgroup "erc") (wg-current-workgroup))</span>
<span style="color: #ff4500;">;;        </span><span style="color: #ff4500;">(qdot/erc-set-fill-columns))</span>
<span style="color: #ff4500;">;;      </span><span style="color: #ff4500;">(when (eq (wg-get-workgroup "mozilla") (wg-current-workgroup))</span>
<span style="color: #ff4500;">;;        </span><span style="color: #ff4500;">(qdot/erc-set-fill-columns))))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-30" class="outline-3">
<h3 id="sec-5-30">org-mode</h3>
<div class="outline-text-3" id="text-5-30">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">org-checklist</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">org-screen</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">org-protocol</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">org-mobile</span><span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>setq org-modules     <span style="color: #696969;">(</span>quote <span style="color: #696969;">(</span>org-bibtex
                              org-crypt
                              org-gnus
                              org-id
                              org-info
                              org-jsinfo
                              org-habit
                              org-inlinetask
                              org-irc
                              org-protocol
                              org-w3m<span style="color: #696969;">)))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">global STYLE property values for completion</span>
<span style="color: #696969;">(</span>setq org-global-properties <span style="color: #696969;">(</span>quote <span style="color: #696969;">((</span><span style="color: #ffa07a;">"STYLE_ALL"</span> . <span style="color: #ffa07a;">"habit"</span><span style="color: #696969;">))))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Most of this ripped from http://doc.norang.ca/org-mode.html</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #ffa07a;">"\C-cl"</span> 'org-store-link<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #ffa07a;">"\C-ca"</span> 'org-agenda<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #ffa07a;">"\C-cb"</span> 'org-iswitchb<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>setq
 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Use ~/emacs_org for storing files. Usually symlinked to Dropbox</span>
 org-directory <span style="color: #ffa07a;">"~/emacs_org"</span>

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">By default, at least timestamp done states</span>
 org-log-done t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Start indented</span>
 org-startup-indented t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Hide blank lines inside folded nodes</span>
 org-cycle-separator-lines 0

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Show notes in a task first</span>
 org-reverse-note-order nil

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Just show one day on the agenda</span>
 org-agenda-ndays 1

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Not sure, think I copied it from norang</span>
 org-indent-indentation-per-level 2

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Archive to the file name, assume we're not doubling up names across projects</span>
 org-archive-location <span style="color: #ffa07a;">"~/emacs_org/archives/%s_archive::"</span>

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Don't really use priorities, turn them off</span>
 org-enable-priority-commands nil

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Do single letter confirm of links</span>
 org-confirm-elisp-link-function 'y-or-n-p

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Use IDO for target completion</span>
 org-completion-use-ido t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Targets include this file and any file contributing to the agenda - up to 9 levels deep</span>
 org-refile-targets <span style="color: #696969;">(</span>quote <span style="color: #696969;">((</span>nil :maxlevel . 9<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>org-agenda-files :maxlevel . 9<span style="color: #696969;">)))</span>

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Use outline paths, but let IDO handle things</span>
 org-refile-use-outline-path <span style="color: #696969;">(</span>quote file<span style="color: #696969;">)</span>

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Allow refile to create parent tasks with confirmation</span>
 org-refile-allow-creating-parent-nodes <span style="color: #696969;">(</span>quote confirm<span style="color: #696969;">)</span>

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">IDO now handles header finding</span>
 org-outline-path-complete-in-steps nil

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Yes it's long... but more is better ;</span>
 org-clock-history-length 35

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Resume clocking task on clock-in if the clock is open</span>
 org-clock-in-resume t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Change task state to STARTED when clocking in</span>
 org-clock-in-switch-to-state <span style="color: #ffa07a;">"STARTED"</span>

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Save clock data and notes in the LOGBOOK drawer</span>
 org-clock-into-drawer t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Sometimes I change tasks I'm clocking quickly - this removes clocked tasks with 0:00 duration</span>
 org-clock-out-remove-zero-time-clocks t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Don't clock out when moving task to a done state</span>
 org-clock-out-when-done nil

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Save the running clock and all clock history when exiting Emacs, load it on startup</span>
 org-clock-persist t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Don't use priorities and accidentally set them all the time, so just turn them off.</span>
 org-enable-priority-commands nil

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Don't use super/subscript, makes exports weird.</span>
 org-use-sub-superscripts nil

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">The habit graph display column in the agenda</span>
 org-habit-graph-column 50

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">warn 15 min in advance</span>
 appt-message-warning-time 15

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">warn every 5 minutes</span>
 appt-display-interval 5

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">show in the modeline</span>
 appt-display-mode-line t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">use our func</span>
 appt-display-format 'nil

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">use speed commands</span>
 org-use-speed-commands t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">I like links being active ret</span>
 org-return-follows-link t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Make lists cycle whether they're nodes or plain</span>
 org-cycle-include-plain-lists t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Fontify org-src blocks like their language mode</span>
 org-src-fontify-natively t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Turn on sticky agendas so we don't have to regenerate them</span>
 org-agenda-sticky t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">If there's a region, do whatever it is I'm trying to do to ALL headlines in</span>
 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">region</span>
 org-loop-over-headlines-in-active-region t

 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">This seemed like a good idea to have at t at first, but now it's driving me</span>
 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">crazy.</span>
 org-special-ctrl-a/e nil

 org-special-ctrl-k t
 org-yank-adjusted-subtrees t

 org-align-all-tags t<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">flyspell mode for spell checking everywhere</span>
<span style="color: #696969;">(</span>add-hook 'org-mode-hook 'turn-on-flyspell 'append<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>add-hook 'org-mode-hook <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span> <span style="color: #696969;">(</span>org-indent-mode t<span style="color: #696969;">)))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Disable C-c [ and C-c ] in org-mode</span>
<span style="color: #696969;">(</span>add-hook 'org-mode-hook
          <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span>
            <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Undefine C-c [ and C-c ] since this breaks my</span>
            <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">org-agenda files when directories are include It</span>
            <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">expands the files in the directories individually</span>
            <span style="color: #696969;">(</span>org-defkey org-mode-map <span style="color: #ffa07a;">"\C-c["</span>    'undefined<span style="color: #696969;">)</span>
            <span style="color: #696969;">(</span>org-defkey org-mode-map <span style="color: #ffa07a;">"\C-c]"</span>    'undefined<span style="color: #696969;">))</span>
          'append<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Resume clocking tasks when emacs is restarted</span>
<span style="color: #696969;">(</span>org-clock-persistence-insinuate<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">3 different stage setups. First two are from norang, final is for</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">events, so I can search for things like "all concerts I attended</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">this year" via state and tags</span>
<span style="color: #696969;">(</span>setq org-todo-keywords <span style="color: #696969;">(</span>quote <span style="color: #696969;">((</span>sequence <span style="color: #ffa07a;">"TODO(t)"</span> <span style="color: #ffa07a;">"STARTED(s!)"</span> <span style="color: #ffa07a;">"|"</span> <span style="color: #ffa07a;">"DONE(d!/!)"</span><span style="color: #696969;">)</span>
                                <span style="color: #696969;">(</span>sequence <span style="color: #ffa07a;">"WAITING(w@/!)"</span> <span style="color: #ffa07a;">"SOMEDAY(S!)"</span> <span style="color: #ffa07a;">"OPEN(O@)"</span> <span style="color: #ffa07a;">"|"</span> <span style="color: #ffa07a;">"CANCELLED(c@/!)"</span><span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span>sequence <span style="color: #ffa07a;">"EVENT(e)"</span> <span style="color: #ffa07a;">"|"</span> <span style="color: #ffa07a;">"ATTENDED(a!)"</span> <span style="color: #ffa07a;">"SKIPPED(k!)"</span><span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span>sequence <span style="color: #ffa07a;">"ORDER(z)"</span> <span style="color: #ffa07a;">"ORDERED(o!)"</span> <span style="color: #ffa07a;">"SHIPPED(h!)"</span> <span style="color: #ffa07a;">"|"</span> <span style="color: #ffa07a;">"ARRIVED(A!/!)"</span><span style="color: #696969;">))))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">I use C-M-r to start org-remember</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-M-R"</span><span style="color: #696969;">)</span> 'org-capture<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Once again, stolen from norang, except for the contacts one, which</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">was taken from the org-mode list.</span>
<span style="color: #696969;">(</span>setq org-capture-templates
      <span style="color: #696969;">(</span>quote
       <span style="color: #696969;">((</span><span style="color: #ffa07a;">"t"</span> <span style="color: #ffa07a;">"todo"</span> entry <span style="color: #696969;">(</span>file <span style="color: #ffa07a;">"~/emacs_org/tasks.org"</span><span style="color: #696969;">)</span>
   <span style="color: #ffa07a;">"* TODO %?</span>
<span style="color: #ffa07a;">  %u</span>
<span style="color: #ffa07a;">  %a"</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #ffa07a;">"n"</span> <span style="color: #ffa07a;">"note"</span> entry <span style="color: #696969;">(</span>file <span style="color: #ffa07a;">"~/emacs_org/notes.org"</span><span style="color: #696969;">)</span>
   <span style="color: #ffa07a;">"* %?                                        :NOTE:</span>
<span style="color: #ffa07a;">  %u</span>
<span style="color: #ffa07a;">  %a"</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #ffa07a;">"r"</span> <span style="color: #ffa07a;">"reply"</span> entry <span style="color: #696969;">(</span>file+headline <span style="color: #ffa07a;">"~/emacs_org/tasks.org"</span> <span style="color: #ffa07a;">"Email"</span><span style="color: #696969;">)</span>
   <span style="color: #ffa07a;">"* [[gnus:%:group#%:message-id]]                                        :email:"</span>
   :immediate-finish t<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #ffa07a;">"w"</span> <span style="color: #ffa07a;">"link"</span> entry <span style="color: #696969;">(</span>file+headline <span style="color: #ffa07a;">"~/emacs_org/links.org"</span> <span style="color: #ffa07a;">"Links"</span><span style="color: #696969;">)</span>
   <span style="color: #ffa07a;">"* %c                                        :link:"</span>
   :immediate-finish t<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #ffa07a;">"s"</span> <span style="color: #ffa07a;">"snowmew link"</span> entry <span style="color: #696969;">(</span>file+headline <span style="color: #ffa07a;">"~/emacs_org/links.org"</span> <span style="color: #ffa07a;">"Snowmew Links"</span><span style="color: #696969;">)</span>
   <span style="color: #ffa07a;">"* %c                                        :link:"</span>
   :immediate-finish t<span style="color: #696969;">))))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Personal agenda modes</span>
<span style="color: #696969;">(</span>setq org-agenda-custom-commands
      <span style="color: #696969;">(</span>quote <span style="color: #696969;">((</span><span style="color: #ffa07a;">"h"</span> <span style="color: #ffa07a;">"Tasks for home"</span> tags-todo <span style="color: #ffa07a;">"+HOME-someday"</span> nil<span style="color: #696969;">)</span>
              <span style="color: #696969;">(</span><span style="color: #ffa07a;">"5"</span> <span style="color: #ffa07a;">"Tasks for work"</span> tags-todo <span style="color: #ffa07a;">"+WORK-someday"</span> nil<span style="color: #696969;">)</span>
              <span style="color: #696969;">(</span><span style="color: #ffa07a;">"p"</span> <span style="color: #ffa07a;">"Tasks for personal projects"</span> tags-todo <span style="color: #ffa07a;">"+PROJECTS-someday"</span> nil<span style="color: #696969;">)</span>
              <span style="color: #696969;">(</span><span style="color: #ffa07a;">"X"</span> agenda <span style="color: #ffa07a;">""</span>
               <span style="color: #696969;">(</span><span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(org-agenda-prefix-format " [ ] ")</span>
                <span style="color: #696969;">(</span>org-agenda-with-colors nil<span style="color: #696969;">)</span>
                <span style="color: #696969;">(</span>org-agenda-remove-tags t<span style="color: #696969;">))</span>
               <span style="color: #696969;">(</span><span style="color: #ffa07a;">"~/emacs_org/agenda.txt"</span><span style="color: #696969;">))</span>
              <span style="color: #696969;">(</span><span style="color: #ffa07a;">"w"</span> agenda <span style="color: #ffa07a;">"Week with events and no daily/chores"</span>
               <span style="color: #696969;">((</span>org-agenda-ndays-to-span 7<span style="color: #696969;">)</span>
                <span style="color: #696969;">(</span>org-agenda-ndays 7<span style="color: #696969;">)</span>
                <span style="color: #696969;">(</span>org-agenda-filter-preset '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"-daily"</span><span style="color: #696969;">))))</span>
        <span style="color: #696969;">(</span><span style="color: #ffa07a;">" "</span> <span style="color: #ffa07a;">"Agenda"</span>
               <span style="color: #696969;">((</span>agenda <span style="color: #ffa07a;">""</span> nil<span style="color: #696969;">)</span>
                <span style="color: #696969;">(</span>tags <span style="color: #ffa07a;">"email"</span>
                      <span style="color: #696969;">((</span>org-agenda-overriding-header <span style="color: #ffa07a;">"Emails"</span><span style="color: #696969;">)</span>
                       <span style="color: #696969;">(</span>org-tags-match-list-sublevels nil<span style="color: #696969;">)</span>
           <span style="color: #696969;">(</span>org-agenda-skip-function '<span style="color: #696969;">(</span>org-agenda-skip-entry-if 'todo '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"DONE"</span> <span style="color: #ffa07a;">"CANCELLED"</span><span style="color: #696969;">)))))</span>
    nil<span style="color: #696969;">)))))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Org mode notifications via aptp</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">the appointment notification facility</span>
<span style="color: #696969;">(</span>appt-activate 1<span style="color: #696969;">)</span>              <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">active appt (appointment notification)</span>
<span style="color: #696969;">(</span>display-time<span style="color: #696969;">)</span>                 <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">time display is required for this...</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">update appt each time agenda opened</span>
<span style="color: #696969;">(</span>add-hook 'org-finalize-agenda-hook 'org-agenda-to-appt<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Show the weather, set in the main task file via:</span>
<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">* Weather</span>
<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">%%(org-google-weather "XXXXX")</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(XXXXX being zip code)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">org-google-weather</span><span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Embed location maps, with directions from home</span>

<span style="color: #696969;">(</span>setq calendar-location-name <span style="color: #ffa07a;">"Home"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq calendar-latitude 37.870975<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq calendar-longitude -122.288813<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">org-location-google-maps</span><span style="color: #696969;">)</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">http://kanis.fr/blog-emacs.html#%20Diary%20block%20without%20week%2Dend</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">%%(diary-block-no-week-end 15 9 2010 30 10 2010) block without week-end</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/diary-block-no-week-end</span> <span style="color: #696969;">(</span>m1 d1 y1 m2 d2 y2 &amp;optional mark<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Block diary entry.</span>
<span style="color: #ffa07a;">Entry applies if date is between two dates and not in the</span>
<span style="color: #ffa07a;">weekend."</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>date1 <span style="color: #696969;">(</span>calendar-absolute-from-gregorian
                <span style="color: #696969;">(</span>diary-make-date m1 d1 y1<span style="color: #696969;">)))</span>
        <span style="color: #696969;">(</span>date2 <span style="color: #696969;">(</span>calendar-absolute-from-gregorian
                <span style="color: #696969;">(</span>diary-make-date m2 d2 y2<span style="color: #696969;">)))</span>
        <span style="color: #696969;">(</span>day <span style="color: #696969;">(</span>calendar-day-of-week date<span style="color: #696969;">))</span>
        <span style="color: #696969;">(</span>d <span style="color: #696969;">(</span>calendar-absolute-from-gregorian date<span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span>and <span style="color: #696969;">(</span>&lt;= date1 d<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>&lt;= d date2<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>= day 6<span style="color: #696969;">))</span> <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>= day 0<span style="color: #696969;">))</span>
         <span style="color: #696969;">(</span>cons mark entry<span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span>setq org-latex-to-pdf-process
      '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"xelatex -interaction nonstopmode %f"</span>
  <span style="color: #ffa07a;">"xelatex -interaction nonstopmode %f"</span><span style="color: #696969;">))</span> <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">for multiple passes</span>


<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/reload-org-files</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>setq org-agenda-files
        <span style="color: #696969;">(</span>append
         <span style="color: #696969;">(</span>file-expand-wildcards <span style="color: #ffa07a;">"~/emacs_org/tasks.org"</span><span style="color: #696969;">)</span>
         <span style="color: #696969;">(</span>file-expand-wildcards <span style="color: #ffa07a;">"~/emacs_org/mozilla/*.org"</span><span style="color: #696969;">)</span>
         <span style="color: #696969;">(</span>file-expand-wildcards <span style="color: #ffa07a;">"~/emacs_org/home/*.org"</span><span style="color: #696969;">)</span>
         <span style="color: #696969;">(</span>file-expand-wildcards <span style="color: #ffa07a;">"~/emacs_org/nplabs/*.org"</span><span style="color: #696969;">)</span>
         <span style="color: #696969;">(</span>file-expand-wildcards <span style="color: #ffa07a;">"~/emacs_org/travel/*.org"</span><span style="color: #696969;">)</span>
         <span style="color: #696969;">(</span>file-expand-wildcards <span style="color: #ffa07a;">"~/emacs_org/projects/*.org"</span><span style="color: #696969;">)</span>
         <span style="color: #696969;">(</span>file-expand-wildcards <span style="color: #ffa07a;">"~/emacs_org/personal/*.org"</span><span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span>qdot/reload-org-files<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Always hilight the current agenda line</span>
<span style="color: #696969;">(</span>add-hook 'org-agenda-mode-hook
          '<span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span> <span style="color: #696969;">(</span>hl-line-mode 1<span style="color: #696969;">))</span>
          'append<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">The following custom-set-faces create the highlights</span>
<span style="color: #696969;">(</span>custom-set-faces
 '<span style="color: #696969;">(</span>org-mode-line-clock <span style="color: #696969;">((</span>t <span style="color: #696969;">(</span>:background <span style="color: #ffa07a;">"grey75"</span> :foreground <span style="color: #ffa07a;">"red"</span> :box <span style="color: #696969;">(</span>:line-width -1 :style released-button<span style="color: #696969;">))))</span> t<span style="color: #696969;">))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Turn habits on at 6am every morning</span>
<span style="color: #696969;">(</span>run-at-time <span style="color: #ffa07a;">"06:00"</span> 86400 '<span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span> <span style="color: #696969;">(</span>setq org-habit-show-habits t<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span>setq org-ghi-interesting-repos '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"qdot/libnifalcon"</span> <span style="color: #ffa07a;">"qdot/liblightstone"</span> <span style="color: #ffa07a;">"qdot/libtrancevibe"</span> <span style="color: #ffa07a;">"qdot/emokit"</span> <span style="color: #ffa07a;">"qdot/libomron"</span> <span style="color: #ffa07a;">"qdot/libfitbit"</span><span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>setq org-ghi-org-file <span style="color: #ffa07a;">"~/emacs_org/github.org"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq org-ghi-file-under-repo-headline t<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>setq org-mobile-inbox-for-pull <span style="color: #ffa07a;">"~/emacs_org/tasks.org"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq org-mobile-directory <span style="color: #ffa07a;">"~/Dropbox/MobileOrg"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq org-mobile-files '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"~/emacs_org/tasks.org"</span> <span style="color: #ffa07a;">"~/emacs_org/mozilla/B2G.org"</span><span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>setq org-mobile-agendas nil<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defvar</span> <span style="color: #eedd82;">org-agenda-no-resize</span> nil
  <span style="color: #ffa07a;">"When non-nil, don't let org-mode resize windows for you"</span><span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>setq org-agenda-no-resize t<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defadvice</span> <span style="color: #87cefa;">qdot/org-fit-agenda-window</span> <span style="color: #696969;">(</span>around org-fit-agenda-window-select<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Will not let org-fit-agenda-window resize if</span>
<span style="color: #ffa07a;">org-agenda-no-resize is non-nil"</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>not org-agenda-no-resize<span style="color: #696969;">)</span>
    ad-do-it<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defadvice</span> <span style="color: #87cefa;">qdot/cfw:org-extract-summary</span> <span style="color: #696969;">(</span>after cfw:org-extract-summary<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Remove tags and filenames from item summary"</span>
  <span style="color: #696969;">(</span>message item<span style="color: #696969;">))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Taken from http://doc.norang.ca/org-mode.html</span>
<span style="color: #ff4500;">;;;; </span><span style="color: #ff4500;">Refile settings</span>
          <span style="color: #ff4500;">; </span><span style="color: #ff4500;">Exclude DONE state tasks from refile targets</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/verify-refile-target</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Exclude todo keywords with a done state from refile targets"</span>
  <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>member <span style="color: #696969;">(</span>nth 2 <span style="color: #696969;">(</span>org-heading-components<span style="color: #696969;">))</span> org-done-keywords<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span>setq org-refile-target-verify-function 'qdot/verify-refile-target<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(diminish 'org-indent-mode " i")</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Sasha Chua's org done faces</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">http://sachachua.com/blog/2012/12/emacs-strike-through-headlines-for-done-tasks-in-org/</span>
<span style="color: #696969;">(</span>setq org-fontify-done-headline t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>custom-set-faces
 '<span style="color: #696969;">(</span>org-done <span style="color: #696969;">((</span>t <span style="color: #696969;">(</span>:foreground <span style="color: #ffa07a;">"PaleGreen"</span>
                 :weight normal :strike-through t<span style="color: #696969;">))))</span>
 '<span style="color: #696969;">(</span>org-headline-done
            <span style="color: #696969;">((((</span>class color<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>min-colors 16<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>background dark<span style="color: #696969;">))</span>
               <span style="color: #696969;">(</span>:foreground <span style="color: #ffa07a;">"LightSalmon"</span> :strike-through t<span style="color: #696969;">)))))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Set org babel backgrounds so we get nice blocks</span>
<span style="color: #696969;">(</span>set-face-background 'org-block-begin-line <span style="color: #ffa07a;">"#333"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>set-face-background 'org-block-end-line <span style="color: #ffa07a;">"#333"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>set-face-background 'org-block-background <span style="color: #ffa07a;">"#222"</span><span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-5-31" class="outline-3">
<h3 id="sec-5-31">ERC</h3>
<div class="outline-text-3" id="text-5-31">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">erc</span><span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">erc-fill</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>erc-fill-mode t<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">erc-ring</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>erc-ring-mode t<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">erc-match</span><span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">For bitlbee</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">erc-nicklist</span><span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>load-library <span style="color: #ffa07a;">"erc-highlight-nicknames"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-to-list 'erc-modules 'highlight-nicknames<span style="color: #696969;">)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(add-to-list 'erc-modules 'scrolltobottom)</span>
<span style="color: #696969;">(</span>add-to-list 'erc-modules 'match<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>erc-update-modules<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>erc-match-enable<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>erc-match-mode 1<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>erc-timestamp-mode t<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">ERC setup</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #696969;">(</span>setq erc-timestamp-only-if-changed-flag nil
      erc-timestamp-format <span style="color: #ffa07a;">"[%H:%M] "</span>
      erc-fill-prefix <span style="color: #ffa07a;">"      "</span>
      erc-timestamp-mode t
      erc-max-buffer-size 20000
      erc-interpret-mirc-color nil
      erc-insert-timestamp-function 'erc-insert-timestamp-left
      erc-kill-queries-on-quit nil
      erc-keywords nil<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq erc-button-url-regexp
      <span style="color: #ffa07a;">"</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">(</span><span style="color: #ffa07a;">[-a-zA-Z0-9_=!?#$@~`%&amp;*+\\/:;,]+\\.</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">)</span><span style="color: #ffa07a;">+[-a-zA-Z0-9_=!?#$@~`%&amp;*+\\/:;,]*[-a-zA-Z0-9\\/]"</span><span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(erc-scrolltobottom-enable)</span>
<span style="color: #ff4500;">;;  </span><span style="color: #ff4500;">(erc-scrolltobottom-disable)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(add-hook 'erc-mode-hook 'erc-add-scroll-to-bottom)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(setq erc-keywords '((".*Online.*" (:foreground "green"))</span>
<span style="color: #ff4500;">;;                      </span><span style="color: #ff4500;">(".*Busy" (:foreground "red"))</span>
<span style="color: #ff4500;">;;                      </span><span style="color: #ff4500;">(".*Away" (:foreground "red"))</span>
<span style="color: #ff4500;">;;                      </span><span style="color: #ff4500;">(".*Idle" (:foreground "orange"))</span>
<span style="color: #ff4500;">;;                      </span><span style="color: #ff4500;">))</span>

<span style="color: #696969;">(</span>setq erc-keywords nil<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>make-variable-buffer-local 'erc-fill-column<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>make-variable-buffer-local 'erc-hide-list<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Change fill column on resize</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/erc-set-fill-columns</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">save-excursion</span>
    <span style="color: #696969;">(</span>walk-windows
     <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">(</span>w<span style="color: #696969;">)</span>
       <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>buffer <span style="color: #696969;">(</span>window-buffer w<span style="color: #696969;">)))</span>
   <span style="color: #696969;">(</span>set-buffer buffer<span style="color: #696969;">)</span>
   <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>eq major-mode 'erc-mode<span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>message <span style="color: #ffa07a;">"Window size: %d"</span> <span style="color: #696969;">(</span>window-width w<span style="color: #696969;">))</span>
     <span style="color: #696969;">(</span>setq erc-fill-column <span style="color: #696969;">(</span>- <span style="color: #696969;">(</span>window-width w<span style="color: #696969;">)</span> 2<span style="color: #696969;">))))))))</span>

<span style="color: #696969;">(</span>setq window-configuration-change-hook <span style="color: #696969;">(</span>cddr window-configuration-change-hook<span style="color: #696969;">))</span>

<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(add-hook 'window-configuration-change-hook 'qdot/erc-set-fill-columns)</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Privmsg window allocation</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">We create a buffer with a ton of windows pointing to the bitlbee-placeholder</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">buffer. These can then be used to throw query windows into as they're</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">created by IMs or IRC privmsgs, so we don't have to worry about ERC screwing</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">with whatever buffer we're in now.</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Similarly, whenever we kill a query window, we should have it pop back to</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">the placeholder buffer so it can be reused.</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">We also make the assumption that the privmsg allocation frame is the one</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">with the &amp;bitlbee channel buffer in one of its windows. I just usually</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">assume bitlbee is going to be running anyways, so this seemed ok for my</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">setup.</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>


<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Since we have our own allocator, just have ERC bury the buffers and then</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">we'll take care of them ourselves</span>
<span style="color: #696969;">(</span>setq erc-auto-query 'bury<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/free-query-window-p</span> <span style="color: #696969;">(</span>window<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>r nil<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>string= <span style="color: #ffa07a;">"bitlbee-placeholder"</span> <span style="color: #696969;">(</span>buffer-name <span style="color: #696969;">(</span>window-buffer window<span style="color: #696969;">)))</span>
        <span style="color: #696969;">(</span>setq r t<span style="color: #696969;">))</span>
    r<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/erc-move-query-to-placeholder</span> <span style="color: #696969;">(</span>buffer<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">let*</span> 
      <span style="color: #696969;">((</span>bitlbee-window <span style="color: #696969;">(</span>get-buffer-window <span style="color: #ffa07a;">"&amp;bitlbee"</span> t<span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> bitlbee-window
      <span style="color: #696969;">(</span><span style="color: #00ffff;">let*</span>
    <span style="color: #696969;">((</span>bitlbee-window-list <span style="color: #696969;">(</span>window-list <span style="color: #696969;">(</span>window-frame bitlbee-window<span style="color: #696969;">)))</span>
     <span style="color: #696969;">(</span>free-window-list <span style="color: #696969;">(</span>qdot/filter 'qdot/free-query-window-p bitlbee-window-list<span style="color: #696969;">)))</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>memq buffer <span style="color: #696969;">(</span>mapcar 'window-buffer bitlbee-window-list<span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span>set-window-buffer <span style="color: #696969;">(</span>car free-window-list<span style="color: #696969;">)</span> buffer<span style="color: #696969;">))))))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/erc-privmsg-query-allocate</span> <span style="color: #696969;">(</span>proc parsed<span style="color: #696969;">)</span>
  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Find the frame holding the bitlbee&amp; buffer. We'll consider that our privmsg window</span>
  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Once we find it, walk the windows until we find an open bitlbee-placeholder</span>
  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Set the window list to that so we can just pick the first window off the top</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>get-buffer-window <span style="color: #ffa07a;">"&amp;bitlbee"</span> t<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">let*</span> 
          <span style="color: #696969;">(</span>
           <span style="color: #696969;">(</span>nick <span style="color: #696969;">(</span>car <span style="color: #696969;">(</span>erc-parse-user <span style="color: #696969;">(</span>erc-response.sender parsed<span style="color: #696969;">))))</span>
           <span style="color: #696969;">(</span>target <span style="color: #696969;">(</span>car <span style="color: #696969;">(</span>erc-response.command-args parsed<span style="color: #696969;">)))</span>
           <span style="color: #696969;">(</span>msg <span style="color: #696969;">(</span>erc-response.contents parsed<span style="color: #696969;">))</span>
           <span style="color: #696969;">(</span>query  <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>not erc-query-on-unjoined-chan-privmsg<span style="color: #696969;">)</span>
           nick
         <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>erc-current-nick-p target<span style="color: #696969;">)</span>
       nick
           target<span style="color: #696969;">))))</span>

        <span style="color: #ff4500;">;;</span><span style="color: #ff4500;">If the buffer doesn't even exist yet, go ahead and run auto-query to make it happen</span>
        <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>erc-get-buffer query proc<span style="color: #696969;">))</span>
            <span style="color: #696969;">(</span>erc-auto-query proc parsed<span style="color: #696969;">))</span>
        <span style="color: #ff4500;">;;</span><span style="color: #ff4500;">If we find one, allocate into that, otherwise, commense undefined behavior</span>
        <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>and <span style="color: #696969;">(</span>erc-current-nick-p target<span style="color: #696969;">)</span>
                   <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>erc-is-message-ctcp-and-not-action-p msg<span style="color: #696969;">))</span>
                   <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>get-buffer-window <span style="color: #696969;">(</span>erc-get-buffer query proc<span style="color: #696969;">)</span> t<span style="color: #696969;">)))</span>
          <span style="color: #696969;">(</span>qdot/erc-move-query-to-placeholder <span style="color: #696969;">(</span>erc-get-buffer query proc<span style="color: #696969;">)))))</span>
  nil<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>add-hook 'erc-server-PRIVMSG-functions 'qdot/erc-privmsg-query-allocate<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Once we close a query window, return it to being a query placeholder window</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/erc-query-buffer-recycle</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>and <span style="color: #696969;">(</span>erc-query-buffer-p <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">))</span> <span style="color: #696969;">(</span>get-buffer <span style="color: #ffa07a;">"bitlbee-placeholder"</span><span style="color: #696969;">))</span>
      <span style="color: #696969;">(</span>set-window-buffer <span style="color: #696969;">(</span>get-buffer-window <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">))</span> <span style="color: #696969;">(</span>get-buffer <span style="color: #ffa07a;">"bitlbee-placeholder"</span><span style="color: #696969;">)))</span>
  nil<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>add-hook 'kill-buffer-hook 'qdot/erc-query-buffer-recycle<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">ZNC IRC Bouncer Setup</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">I use the ZNC IRC bouncer to keep IRC connected, kinda like screen, except</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">far more complicated and only useful for one thing. Yay!</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">ZNC divides up networks to be one per account, so we have to start once ERC</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">instance per network we want to connect to.</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #696969;">(</span>setq qdot/erc-znc-server-rename-list <span style="color: #696969;">(</span>list<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/erc-znc-connect</span> <span style="color: #696969;">(</span>nick<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>interactive <span style="color: #ffa07a;">"ZNC Nick:"</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>erc :server qdot/erc-znc-remote-server :port qdot/erc-znc-port :nick nick :full-name nick<span style="color: #696969;">)</span>
  <span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/erc-znc-rename-server-buffer</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>current-network <span style="color: #696969;">(</span>caddr <span style="color: #696969;">(</span>split-string <span style="color: #696969;">(</span>erc-current-nick<span style="color: #696969;">)</span> <span style="color: #ffa07a;">"-"</span><span style="color: #696969;">))))</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">save-excursion</span>
      <span style="color: #696969;">(</span>set-buffer <span style="color: #696969;">(</span>erc-server-buffer<span style="color: #696969;">))</span>
      <span style="color: #696969;">(</span>rename-buffer <span style="color: #696969;">(</span>concat <span style="color: #ffa07a;">"znc-"</span> current-network<span style="color: #696969;">))</span>
      <span style="color: #696969;">(</span>message <span style="color: #696969;">(</span>format <span style="color: #ffa07a;">"Renamed buffer to %s"</span> <span style="color: #696969;">(</span>concat <span style="color: #ffa07a;">"znc-"</span> current-network<span style="color: #696969;">)))</span>
      <span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/erc-znc-initialize</span> <span style="color: #696969;">(</span>proc parsed<span style="color: #696969;">)</span>
  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Prepend all ZNC buffers with znc-</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>and <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>string-match <span style="color: #ffa07a;">"znc-"</span> <span style="color: #696969;">(</span>buffer-name <span style="color: #696969;">(</span>erc-server-buffer<span style="color: #696969;">))))</span> <span style="color: #696969;">(</span>string-match <span style="color: #ffa07a;">"qdot-znc"</span> <span style="color: #696969;">(</span>erc-current-nick<span style="color: #696969;">)))</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">progn</span>
        <span style="color: #696969;">(</span>qdot/erc-znc-rename-server-buffer<span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span>erc-server-send <span style="color: #696969;">(</span>format <span style="color: #ffa07a;">"PASS %s:%s"</span> <span style="color: #696969;">(</span>erc-current-nick<span style="color: #696969;">)</span> qdot/erc-znc-password<span style="color: #696969;">))))</span>
  nil<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>add-hook 'erc-server-NOTICE-functions 'qdot/erc-znc-initialize<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">ZNC variables and utility functions</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #696969;">(</span>setq qdot/erc-znc-nicks '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"qdot-znc-freenode"</span> <span style="color: #ffa07a;">"qdot-znc-mozilla"</span><span style="color: #696969;">))</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defvar</span> <span style="color: #eedd82;">qdot/erc-znc-password</span> <span style="color: #ffa07a;">"doesnotmatter"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defvar</span> <span style="color: #eedd82;">qdot/erc-znc-remote-server</span> <span style="color: #ffa07a;">"localhost"</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defvar</span> <span style="color: #eedd82;">qdot/erc-znc-port</span> 9999<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/erc-znc-start</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>mapcar 'qdot/erc-znc-connect qdot/erc-znc-nicks<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/bitlbee-connect</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>qdot/erc-znc-connect <span style="color: #ffa07a;">"qdot-znc-bitlbee"</span><span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/bitlbee-reallocate-query-buffers</span> <span style="color: #696969;">()</span>
  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">For each already opened query window, reallocate</span>
  <span style="color: #696969;">(</span>mapc <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">(</span>buf<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>qdot/erc-move-query-to-placeholder buf<span style="color: #696969;">))</span>
  <span style="color: #696969;">(</span>qdot/filter 'erc-query-buffer-p <span style="color: #696969;">(</span>buffer-list<span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/bitlbee-resume-layout</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">If we havn't created a placeholder buffer yet, do so now, make it</span>
  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">readonly.</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">with-current-buffer</span> <span style="color: #696969;">(</span>get-buffer-create <span style="color: #ffa07a;">"bitlbee-placeholder"</span><span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>setq buffer-read-only t<span style="color: #696969;">))</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">save-excursion</span>
    <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Bring up the bitlbee nicklist</span>
    <span style="color: #696969;">(</span>set-buffer <span style="color: #ffa07a;">"&amp;bitlbee"</span><span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>erc-nicklist<span style="color: #696969;">))</span>
  <span style="color: #696969;">(</span>wg-revert-workgroup <span style="color: #696969;">(</span>wg-get-workgroup <span style="color: #ffa07a;">"bitlbee"</span><span style="color: #696969;">))</span>
  <span style="color: #696969;">(</span>qdot/bitlbee-reallocate-query-buffers<span style="color: #696969;">))</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Kill all ERC windows and connections for the current frame</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #696969;">(</span>setq erc-fill-function 'erc-fill-static<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq erc-fill-static-center 0<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Don't track common events</span>
<span style="color: #696969;">(</span>setq erc-track-exclude-types '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"JOIN"</span> <span style="color: #ffa07a;">"NICK"</span> <span style="color: #ffa07a;">"PART"</span> <span style="color: #ffa07a;">"QUIT"</span> <span style="color: #ffa07a;">"MODE"</span>
        <span style="color: #ffa07a;">"324"</span> <span style="color: #ffa07a;">"329"</span> <span style="color: #ffa07a;">"332"</span> <span style="color: #ffa07a;">"333"</span> <span style="color: #ffa07a;">"353"</span> <span style="color: #ffa07a;">"477"</span><span style="color: #696969;">))</span>

<span style="color: #696969;">(</span>setq erc-current-nick-highlight-type 'nick<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>setq erc-track-use-faces t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq erc-track-faces-priority-list
      '<span style="color: #696969;">(</span>erc-current-nick-face erc-keyword-face<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>setq erc-track-priority-faces-only 'all<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Make erc-hide-list buffer-local</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">http://web.archiveorange.com/archive/v/rByihNiNJaOnTUlfaxLs</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">erc-display-buffer-list</span> <span style="color: #696969;">(</span>buffer<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Sanitize a 'buffer' name or list, and convert to a buffer-name list."</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">cond</span> <span style="color: #696969;">((</span>bufferp buffer<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>list buffer<span style="color: #696969;">))</span>
  <span style="color: #696969;">((</span>listp buffer<span style="color: #696969;">)</span> buffer<span style="color: #696969;">)</span>
  <span style="color: #696969;">((</span>processp buffer<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>list <span style="color: #696969;">(</span>process-buffer buffer<span style="color: #696969;">)))</span>
  <span style="color: #696969;">((</span>eq 'all buffer<span style="color: #696969;">)</span>
   <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Hmm, or all of the same session server?</span>
   <span style="color: #696969;">(</span>erc-buffer-list nil erc-server-process<span style="color: #696969;">))</span>
  <span style="color: #696969;">((</span>and <span style="color: #696969;">(</span>eq 'active buffer<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>erc-active-buffer<span style="color: #696969;">))</span>
   <span style="color: #696969;">(</span>list <span style="color: #696969;">(</span>erc-active-buffer<span style="color: #696969;">)))</span>
  <span style="color: #696969;">((</span>erc-server-buffer-live-p<span style="color: #696969;">)</span>
   <span style="color: #696969;">(</span>list <span style="color: #696969;">(</span>process-buffer erc-server-process<span style="color: #696969;">)))</span>
  <span style="color: #696969;">(</span>t <span style="color: #696969;">(</span>list <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">)))))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">erc-display-message</span> <span style="color: #696969;">(</span>parsed type buffer msg &amp;rest args<span style="color: #696969;">)</span>
  <span style="color: #ffa07a;">"Display MSG in BUFFER.</span>

<span style="color: #ffa07a;">ARGS, PARSED, and TYPE are used to format MSG sensibly.</span>

<span style="color: #ffa07a;">See also `</span><span style="color: #ffa07a;">erc-format-message</span><span style="color: #ffa07a;">' and `</span><span style="color: #ffa07a;">erc-display-line</span><span style="color: #ffa07a;">'.</span>

<span style="color: #ffa07a;">NOTE: PATCHED VERSION that takes into account that erc-hide-list</span>
<span style="color: #ffa07a;">is buffer local"</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>string <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>symbolp msg<span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span>apply 'erc-format-message msg args<span style="color: #696969;">)</span>
      msg<span style="color: #696969;">)))</span>
    <span style="color: #696969;">(</span>setq string
    <span style="color: #696969;">(</span><span style="color: #00ffff;">cond</span>
     <span style="color: #696969;">((</span>null type<span style="color: #696969;">)</span>
      string<span style="color: #696969;">)</span>
     <span style="color: #696969;">((</span>listp type<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>mapc <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">(</span>type<span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span>setq string
        <span style="color: #696969;">(</span>erc-display-message-highlight type string<span style="color: #696969;">)))</span>
      type<span style="color: #696969;">)</span>
      string<span style="color: #696969;">)</span>
     <span style="color: #696969;">((</span>symbolp type<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>erc-display-message-highlight type string<span style="color: #696969;">))))</span>

    <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>erc-response-p parsed<span style="color: #696969;">))</span>
  <span style="color: #696969;">(</span>erc-display-line string buffer<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>erc-put-text-property 0 <span style="color: #696969;">(</span>length string<span style="color: #696969;">)</span> 'erc-parsed parsed string<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>erc-put-text-property 0 <span style="color: #696969;">(</span>length string<span style="color: #696969;">)</span> 'rear-sticky t string<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">dolist</span> <span style="color: #696969;">(</span>buf <span style="color: #696969;">(</span>erc-display-buffer-list buffer<span style="color: #696969;">))</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">unless</span> <span style="color: #696969;">(</span>member <span style="color: #696969;">(</span>erc-response.command parsed<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>bufferp buf<span style="color: #696969;">)</span>
          <span style="color: #696969;">(</span><span style="color: #00ffff;">with-current-buffer</span> buf erc-hide-list<span style="color: #696969;">)</span>
        erc-hide-list<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span>erc-display-line string buf<span style="color: #696969;">))))))</span>

<span style="color: #696969;">(</span>setq qdot/erc-event-channels '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"&amp;bitlbee"</span><span style="color: #696969;">))</span>

<span style="color: #696969;">(</span>add-hook 'erc-join-hook 
    <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span>
      <span style="color: #696969;">(</span>make-local-variable 'blink-matching-paren<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>setq blink-matching-paren nil<span style="color: #696969;">)</span>
      <span style="color: #ffa07a;">"Only show joins/hides/quits for channels we</span>
<span style="color: #ffa07a;">specify in qdot/erc-event-channels"</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>member <span style="color: #696969;">(</span>buffer-name <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">))</span>
             qdot/erc-event-channels<span style="color: #696969;">))</span>
        <span style="color: #696969;">(</span>setq erc-hide-list '<span style="color: #696969;">(</span> <span style="color: #ffa07a;">"PART"</span> <span style="color: #ffa07a;">"QUIT"</span> <span style="color: #ffa07a;">"JOIN"</span><span style="color: #696969;">)))))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/clear-irc-buffer</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"If the current buffer is and ERC buffer, clear all text out of</span>
<span style="color: #ffa07a;">it. </span>

<span style="color: #ffa07a;">This function exists due to the fact that calling /CLEAR only</span>
<span style="color: #ffa07a;">recenters the buffer so that prior history cannot be seen.</span>
<span style="color: #ffa07a;">"</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>member <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>erc-buffer-list<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span>erc-truncate-buffer-to-size 0<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">erc-cmd-CLEAR</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>qdot/clear-irc-buffer<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/erc-turn-off-parens</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>member <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>erc-buffer-list<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span>setq completion-auto-help nil<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>setq blink-matching-paren nil<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span>add-hook 'after-change-major-mode-hook 'qdot/erc-turn-off-parens<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/replace-gtalk-asterisks</span> <span style="color: #696969;">(</span>input<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>or <span style="color: #696969;">(</span>string-match <span style="color: #ffa07a;">"^gt-"</span> <span style="color: #696969;">(</span>buffer-name <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">)))</span>
            <span style="color: #696969;">(</span>string-match <span style="color: #ffa07a;">"^aim-.*gmail.*"</span> <span style="color: #696969;">(</span>buffer-name <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">))))</span>
    <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">erc-send-current-line uses the "str" variable before this hook</span>
    <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">to set what is being sent. Yay dynamic scoping! :( :( :(</span>
    <span style="color: #696969;">(</span>setq str <span style="color: #696969;">(</span>replace-regexp-in-string <span style="color: #ffa07a;">"\\*"</span> <span style="color: #ffa07a;">"&#8226;"</span> input<span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span>add-hook 'erc-send-pre-hook 'qdot/replace-gtalk-asterisks<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/erc-kill-all-channel-buffers</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">dolist</span> <span style="color: #696969;">(</span>channel <span style="color: #696969;">(</span>erc-buffer-list<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>string-match-p <span style="color: #ffa07a;">"#"</span> <span style="color: #696969;">(</span>buffer-name channel<span style="color: #696969;">))</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">save-excursion</span>
  <span style="color: #696969;">(</span>set-buffer channel<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>kill-buffer<span style="color: #696969;">)))))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Walk all of the server buffers first</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Close those first, which autodetaches us from channels</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Then go back through and close everything</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/kill-erc-buffers</span> <span style="color: #696969;">(</span>bitlbee<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>mapcar 
   <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">(</span>arg<span style="color: #696969;">)</span> 
     <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>and <span style="color: #696969;">(</span>erc-server-buffer-p arg<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> bitlbee
        <span style="color: #696969;">(</span>string-match <span style="color: #696969;">(</span>buffer-name arg<span style="color: #696969;">)</span> <span style="color: #ffa07a;">"znc-bitlbee"</span><span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>string-match <span style="color: #696969;">(</span>buffer-name arg<span style="color: #696969;">)</span> <span style="color: #ffa07a;">"znc-bitlbee"</span><span style="color: #696969;">))))</span>
       <span style="color: #696969;">(</span><span style="color: #00ffff;">save-excursion</span>
   <span style="color: #696969;">(</span>set-buffer arg<span style="color: #696969;">)</span>
   <span style="color: #696969;">(</span>erc-quit-server <span style="color: #ffa07a;">"Wheee."</span><span style="color: #696969;">)</span>
   <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>get-buffer-process arg<span style="color: #696969;">)</span>
       <span style="color: #696969;">(</span>delete-process <span style="color: #696969;">(</span>get-buffer-process arg<span style="color: #696969;">)))</span>
   <span style="color: #696969;">(</span>kill-buffer<span style="color: #696969;">))))</span>
   <span style="color: #696969;">(</span>buffer-list<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/kill-irc</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>qdot/kill-erc-buffers nil<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/kill-bitlbee</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>qdot/kill-erc-buffers t<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span>add-hook 'kill-emacs-hook 'qdot/kill-irc<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'kill-emacs-hook 'qdot/kill-bitlbee<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>setq qdot/bitlbee-status-nicks '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"subgirl13"</span> <span style="color: #ffa07a;">"xiuvx"</span> <span style="color: #ffa07a;">"bokehcat"</span> <span style="color: #ffa07a;">"qdot76367"</span> <span style="color: #ffa07a;">"gt-JaredAllen"</span><span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/filter-bitlbee-joins-parts</span> <span style="color: #696969;">(</span>msg<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>and <span style="color: #696969;">(</span>string= <span style="color: #ffa07a;">"&amp;bitlbee"</span> <span style="color: #696969;">(</span>buffer-name <span style="color: #696969;">(</span>current-buffer<span style="color: #696969;">)))</span>
       <span style="color: #696969;">(</span>= <span style="color: #696969;">(</span>string-match <span style="color: #ffa07a;">"***"</span> msg<span style="color: #696969;">)</span> 0<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span>setq erc-insert-this nil<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">dolist</span> <span style="color: #696969;">(</span>nick qdot/bitlbee-status-nicks<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>string-match nick msg<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>setq erc-insert-this t<span style="color: #696969;">)))))</span>

<span style="color: #696969;">(</span>add-hook 'erc-insert-pre-hook 'qdot/filter-bitlbee-joins-parts<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq erc-insert-pre-hook nil<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defalias</span> '<span style="color: #87cefa;">qdot/kill-erc</span> 'qdot/kill-irc<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6">Notification Settings</h2>
<div class="outline-text-2" id="text-6">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Notifications relay file</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">This file is responsible for creating and deleting files on the filesystem</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">for events like privmsg's on irc (which also means ims), new mail, etc...)</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Existence of these files can then be used by shell scripts to post</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">notifications without having to worry about stupid shit like dbus.</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> linux-p
  <span style="color: #696969;">(</span><span style="color: #00ffff;">defvar</span> <span style="color: #eedd82;">qdot/status-file-directory</span> <span style="color: #ffa07a;">"/home/qdot/.xmonad/status/"</span>
    <span style="color: #ffa07a;">"Directory to store status files in. Existence of status denotes that xmobar</span>
<span style="color: #ffa07a;">should highlight that status."</span><span style="color: #696969;">)</span>

  <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>not <span style="color: #696969;">(</span>file-exists-p qdot/status-file-directory<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span>make-directory qdot/status-file-directory<span style="color: #696969;">))</span>

  <span style="color: #696969;">(</span>setq qdot/status-types '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"bitlbee"</span> <span style="color: #ffa07a;">"freenode"</span> <span style="color: #ffa07a;">"twitter"</span> <span style="color: #ffa07a;">"mozilla"</span> <span style="color: #ffa07a;">"mail"</span><span style="color: #696969;">))</span>

  <span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/add-notify-type</span> <span style="color: #696969;">(</span>origin prio msg &amp;optional props<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">cond</span>
     <span style="color: #696969;">((</span>string-match <span style="color: #ffa07a;">"privmsg"</span> msg<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">with-temp-file</span> <span style="color: #696969;">(</span>concat qdot/status-file-directory <span style="color: #ffa07a;">"bitlbee"</span><span style="color: #696969;">)))</span>
     <span style="color: #696969;">((</span>string-match <span style="color: #ffa07a;">"freenode"</span> msg<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">with-temp-file</span> <span style="color: #696969;">(</span>concat qdot/status-file-directory <span style="color: #ffa07a;">"freenode"</span><span style="color: #696969;">)))</span>
     <span style="color: #696969;">((</span>string-match <span style="color: #ffa07a;">"mozilla"</span> msg<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">with-temp-file</span> <span style="color: #696969;">(</span>concat qdot/status-file-directory <span style="color: #ffa07a;">"mozilla"</span><span style="color: #696969;">)))</span>
     <span style="color: #696969;">((</span>string-match <span style="color: #ffa07a;">"twit"</span> <span style="color: #696969;">(</span>symbol-name origin<span style="color: #696969;">))</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">with-temp-file</span> <span style="color: #696969;">(</span>concat qdot/status-file-directory <span style="color: #ffa07a;">"twitter"</span><span style="color: #696969;">))))</span>
    nil<span style="color: #696969;">)</span>

  <span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/remove-notify-type</span> <span style="color: #696969;">(</span>type<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">let</span> <span style="color: #696969;">((</span>status-file <span style="color: #696969;">(</span>concat qdot/status-file-directory type<span style="color: #696969;">)))</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>and <span style="color: #696969;">(</span>file-exists-p status-file<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>member type qdot/status-types<span style="color: #696969;">))</span>
        <span style="color: #696969;">(</span>delete-file status-file<span style="color: #696969;">))))</span>

  <span style="color: #696969;">(</span>add-hook 'wg-switch-to-workgroup-hook
            <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span>
              <span style="color: #696969;">(</span><span style="color: #00ffff;">cond</span>
               <span style="color: #696969;">((</span>eq <span style="color: #696969;">(</span>wg-get-workgroup <span style="color: #ffa07a;">"erc"</span><span style="color: #696969;">)</span> <span style="color: #696969;">(</span>wg-current-workgroup<span style="color: #696969;">))</span>
                <span style="color: #696969;">(</span>qdot/remove-notify-type <span style="color: #ffa07a;">"freenode"</span><span style="color: #696969;">))</span>
               <span style="color: #696969;">((</span>eq <span style="color: #696969;">(</span>wg-get-workgroup <span style="color: #ffa07a;">"mozilla"</span><span style="color: #696969;">)</span> <span style="color: #696969;">(</span>wg-current-workgroup<span style="color: #696969;">))</span>
                <span style="color: #696969;">(</span>qdot/remove-notify-type <span style="color: #ffa07a;">"mozilla"</span><span style="color: #696969;">))</span>
               <span style="color: #696969;">((</span>eq <span style="color: #696969;">(</span>wg-get-workgroup <span style="color: #ffa07a;">"bitlbee"</span><span style="color: #696969;">)</span> <span style="color: #696969;">(</span>wg-current-workgroup<span style="color: #696969;">))</span>
                <span style="color: #696969;">(</span>qdot/remove-notify-type <span style="color: #ffa07a;">"bitlbee"</span><span style="color: #696969;">))</span>
               <span style="color: #696969;">((</span>eq <span style="color: #696969;">(</span>wg-get-workgroup <span style="color: #ffa07a;">"gnus"</span><span style="color: #696969;">)</span> <span style="color: #696969;">(</span>wg-current-workgroup<span style="color: #696969;">))</span>
                <span style="color: #696969;">(</span>qdot/remove-notify-type <span style="color: #ffa07a;">"mail"</span><span style="color: #696969;">))</span>
               <span style="color: #696969;">((</span>eq <span style="color: #696969;">(</span>wg-get-workgroup <span style="color: #ffa07a;">"twitter"</span><span style="color: #696969;">)</span> <span style="color: #696969;">(</span>wg-current-workgroup<span style="color: #696969;">))</span>
                <span style="color: #696969;">(</span>qdot/remove-notify-type <span style="color: #ffa07a;">"twitter"</span><span style="color: #696969;">)))))</span>

  <span style="color: #696969;">(</span>add-hook 'sauron-event-added-functions
            'qdot/add-notify-type<span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-7" class="outline-2">
<h2 id="sec-7">Programming Settings</h2>
<div class="outline-text-2" id="text-7">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">load file modes for programming</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">doxymacs mode for editing doxygen</span>
<span style="color: #696969;">(</span>add-hook 'c-mode-common-hook 'doxymacs-mode<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Set defaults we expect</span>
<span style="color: #696969;">(</span>setq-default c-basic-offset 2<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq-default py-indent-offset 2<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">gdb/gud</span>
<span style="color: #696969;">(</span>setq gdb-many-windows t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq gdb-show-main t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq gud-chdir-before-run nil<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq gud-tooltip-mode t<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">turn on linum mode for programming</span>
<span style="color: #696969;">(</span>setq linum-format <span style="color: #ffa07a;">"%4d"</span><span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">I don't always show parens, but when I do...</span>
<span style="color: #696969;">(</span>setq show-paren-delay 0<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq show-paren-style 'expression<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/programming-mode-hook</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>linum-mode 1<span style="color: #696969;">)</span>
  <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">fci-mode violently broken at the moment (24.3 HEAD)</span>
  <span style="color: #ff4500;">;;  </span><span style="color: #ff4500;">(fci-mode 1)</span>
  <span style="color: #696969;">(</span>make-variable-buffer-local 'show-paren-mode<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>show-paren-mode 1<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>set-fill-column 80<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>setq show-trailing-whitespace t<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>set-face-background 'show-paren-match-face <span style="color: #ffa07a;">"#222"</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>set-face-attribute 'show-paren-match-face nil
          :weight 'bold :underline nil :overline nil :slant 'normal<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span>add-hook 'emacs-lisp-mode-hook 'qdot/programming-mode-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'cmake-mode-hook 'qdot/programming-mode-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'c-mode-common-hook 'qdot/programming-mode-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'haskell-mode-hook 'qdot/programming-mode-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'java-mode-hook 'qdot/programming-mode-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'js2-mode-hook 'qdot/programming-mode-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'nxml-mode-hook 'qdot/programming-mode-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'xml-mode-hook 'qdot/programming-mode-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'nxhtml-mode-hook 'qdot/programming-mode-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'python-mode-hook 'qdot/programming-mode-hook<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">flymake with mode fixes</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">flymake</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/flymake-off-hook</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>flymake-mode 0<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>add-hook 'nxml-mode-hook 'qdot/flymake-off-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'c++-mode-hook 'qdot/flymake-off-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'c-mode-hook 'qdot/flymake-off-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'xml-mode-hook 'qdot/flymake-off-hook<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">haskell</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(require 'haskell-mode)</span>
<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(require 'inf-haskell)</span>
<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(add-hook 'haskell-mode-hook 'turn-on-haskell-doc-mode)</span>
<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(add-hook 'haskell-mode-hook 'turn-on-haskell-indentation)</span>
<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(add-hook 'haskell-mode-hook 'font-lock-mode)</span>
<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(setq haskell-font-lock-symbols t)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(defun flymake-Haskell-init ()</span>
<span style="color: #ff4500;">;;   </span><span style="color: #ff4500;">(flymake-simple-make-init-impl</span>
<span style="color: #ff4500;">;;    </span><span style="color: #ff4500;">'flymake-create-temp-with-folder-structure nil nil</span>
<span style="color: #ff4500;">;;    </span><span style="color: #ff4500;">(file-name-nondirectory buffer-file-name)</span>
<span style="color: #ff4500;">;;    </span><span style="color: #ff4500;">'flymake-get-Haskell-cmdline))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(defun flymake-get-Haskell-cmdline (source base-dir)</span>
<span style="color: #ff4500;">;;   </span><span style="color: #ff4500;">(list "flycheck_haskell.pl"</span>
<span style="color: #ff4500;">;;  </span><span style="color: #ff4500;">(list source base-dir)))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(push '(".+\\.hs$" flymake-Haskell-init flymake-simple-java-cleanup)</span>
<span style="color: #ff4500;">;;       </span><span style="color: #ff4500;">flymake-allowed-file-name-masks)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(push '(".+\\.lhs$" flymake-Haskell-init flymake-simple-java-cleanup)</span>
<span style="color: #ff4500;">;;       </span><span style="color: #ff4500;">flymake-allowed-file-name-masks)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(push</span>
<span style="color: #ff4500;">;;  </span><span style="color: #ff4500;">'("^\\(\.+\.hs\\|\.lhs\\):\\([0-9]+\\):\\([0-9]+\\):\\(.+\\)"</span>
<span style="color: #ff4500;">;;    </span><span style="color: #ff4500;">1 2 3 4) flymake-err-line-patterns)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(add-hook</span>
<span style="color: #ff4500;">;;  </span><span style="color: #ff4500;">'haskell-mode-hook</span>
<span style="color: #ff4500;">;;  </span><span style="color: #ff4500;">'(lambda ()</span>
<span style="color: #ff4500;">;;     </span><span style="color: #ff4500;">(if (not (null buffer-file-name)) (flymake-mode))))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Taken from http://www.credmp.org/index.php/2007/07/20/on-the-fly-syntax-checking-java-in-emacs/</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(defun qdot/flymake-display-err-minibuf () </span>
<span style="color: #ff4500;">;;   </span><span style="color: #ff4500;">"Displays the error/warning for the current line in the minibuffer"</span>
<span style="color: #ff4500;">;;   </span><span style="color: #ff4500;">(interactive)</span>
<span style="color: #ff4500;">;;   </span><span style="color: #ff4500;">(let* ((line-no             (flymake-current-line-no))</span>
<span style="color: #ff4500;">;;   </span><span style="color: #ff4500;">(line-err-info-list  (nth 0 (flymake-find-err-info flymake-err-info line-no)))</span>
<span style="color: #ff4500;">;;   </span><span style="color: #ff4500;">(count               (length line-err-info-list))</span>
<span style="color: #ff4500;">;;   </span><span style="color: #ff4500;">)</span>
<span style="color: #ff4500;">;;     </span><span style="color: #ff4500;">(while (&gt; count 0)</span>
<span style="color: #ff4500;">;;       </span><span style="color: #ff4500;">(when line-err-info-list</span>
<span style="color: #ff4500;">;;  </span><span style="color: #ff4500;">(let* ((file       (flymake-ler-file (nth (1- count) line-err-info-list)))</span>
<span style="color: #ff4500;">;;         </span><span style="color: #ff4500;">(full-file  (flymake-ler-full-file (nth (1- count) line-err-info-list)))</span>
<span style="color: #ff4500;">;;         </span><span style="color: #ff4500;">(text (flymake-ler-text (nth (1- count) line-err-info-list)))</span>
<span style="color: #ff4500;">;;         </span><span style="color: #ff4500;">(line       (flymake-ler-line (nth (1- count) line-err-info-list))))</span>
<span style="color: #ff4500;">;;    </span><span style="color: #ff4500;">(message "[%s] %s" line text)</span>
<span style="color: #ff4500;">;;    </span><span style="color: #ff4500;">)</span>
<span style="color: #ff4500;">;;  </span><span style="color: #ff4500;">)</span>
<span style="color: #ff4500;">;;       </span><span style="color: #ff4500;">(setq count (1- count)))))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(add-hook</span>
<span style="color: #ff4500;">;;  </span><span style="color: #ff4500;">'haskell-mode-hook</span>
<span style="color: #ff4500;">;;  </span><span style="color: #ff4500;">'(lambda ()</span>
<span style="color: #ff4500;">;;     </span><span style="color: #ff4500;">(define-key haskell-mode-map "\C-cd"</span>
<span style="color: #ff4500;">;;       </span><span style="color: #ff4500;">'qdot/flymake-display-err-minibuf)))</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">smerge mode for looking at inline conflicts</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">http://atomized.org/2010/06/resolving-merge-conflicts-the-easy-way-with-smerge-kmacro/</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">sm-try-smerge</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">save-excursion</span>
    <span style="color: #696969;">(</span>goto-char <span style="color: #696969;">(</span>point-min<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>re-search-forward <span style="color: #ffa07a;">"^&lt;&lt;&lt;&lt;&lt;&lt;&lt; "</span> nil t<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>smerge-mode 1<span style="color: #696969;">))))</span>

<span style="color: #696969;">(</span>add-hook 'find-file-hook 'sm-try-smerge t<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Super simple generic mode for nsis editing</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">God forbid I have to do that often</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">define-generic-mode</span> '<span style="color: #87cefa;">nsis-generic-mode</span>
  nil <span style="color: #ff4500;">;;</span><span style="color: #ff4500;">'(";")</span>
  '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"Section"</span> <span style="color: #ffa07a;">"SectionEnd"</span> <span style="color: #ffa07a;">"Function"</span> <span style="color: #ffa07a;">"FunctionEnd"</span> <span style="color: #ffa07a;">"Call"</span> <span style="color: #ffa07a;">"Goto"</span><span style="color: #696969;">)</span>
  '<span style="color: #696969;">((</span><span style="color: #ffa07a;">"!</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">(</span><span style="color: #ffa07a;">[A-Za-z]+</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">)</span><span style="color: #ffa07a;">"</span> <span style="color: #696969;">(</span>1 'font-lock-builtin-face<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span><span style="color: #ffa07a;">"$[({]?</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">(</span><span style="color: #ffa07a;">[A-Za-z0-9_]+</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">)</span><span style="color: #ffa07a;">[)}]?"</span> <span style="color: #696969;">(</span>1 'font-lock-variable-name-face<span style="color: #696969;">))</span>
    <span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>list <span style="color: #ffa07a;">"\\.</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">(</span><span style="color: #ffa07a;">nsi</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">|</span><span style="color: #ffa07a;">nsh</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">)</span><span style="color: #ffa07a;">$"</span><span style="color: #696969;">)</span>    
  nil
  <span style="color: #ffa07a;">"Generic mode for nsis files."</span><span style="color: #696969;">)</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">cc-mode hook</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/cc-mode-hook</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>doxymacs-font-lock<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>local-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"\C-m"</span><span style="color: #696969;">)</span> 'newline-and-indent<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>c-add-style <span style="color: #ffa07a;">"qdot/cc-code-style"</span> '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"bsd"</span> <span style="color: #696969;">(</span>c-basic-offset . 2<span style="color: #696969;">)))</span>
  <span style="color: #696969;">(</span>setq indent-tabs-mode nil<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>setq-default tab-width 2<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>c-set-style <span style="color: #ffa07a;">"qdot/cc-code-style"</span><span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>c-set-offset 'innamespace 0<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>local-set-key [<span style="color: #696969;">(</span>control tab<span style="color: #696969;">)</span>] 'semantic-complete-self-insert<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>subword-mode 1<span style="color: #696969;">))</span>

<span style="color: #696969;">(</span>add-hook 'c-mode-common-hook 'qdot/cc-mode-hook<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Hooks for recompilation and error maneuvering</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">compile</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq compilation-disable-input nil<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq compilation-scroll-output t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq mode-compile-always-save-buffer-p t<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/recompile</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Run compile and resize the compile window closing the old one if necessary"</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">progn</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>get-buffer <span style="color: #ffa07a;">"*compilation*"</span><span style="color: #696969;">)</span>  <span style="color: #ff4500;">; </span><span style="color: #ff4500;">If old compile window exists</span>
      <span style="color: #696969;">(</span>delete-windows-on <span style="color: #696969;">(</span>get-buffer <span style="color: #ffa07a;">"*compilation*"</span><span style="color: #696969;">))</span> <span style="color: #ff4500;">; </span><span style="color: #ff4500;">Delete the compilation windows</span>
      <span style="color: #696969;">(</span>kill-buffer <span style="color: #ffa07a;">"*compilation*"</span><span style="color: #696969;">))</span> <span style="color: #ff4500;">; </span><span style="color: #ff4500;">and kill the buffers</span>
    <span style="color: #696969;">(</span>call-interactively 'compile<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>enlarge-window 30<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/next-error</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Move point to next error and highlight it"</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">progn</span>
    <span style="color: #696969;">(</span>next-error<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>end-of-line-nomark<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>beginning-of-line-mark<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/previous-error</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"Move point to previous error and highlight it"</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">progn</span>
    <span style="color: #696969;">(</span>previous-error<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>end-of-line-nomark<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>beginning-of-line-mark<span style="color: #696969;">)))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(global-set-key (kbd "C-n") 'qdot/next-error)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(global-set-key (kbd "C-p") 'qdot/previous-error)</span>

<span style="color: #696969;">(</span>global-set-key [f5] 'qdot/recompile<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">CEDET settings</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Emacs freaks out if this isn't set.</span>
<span style="color: #696969;">(</span>setq warning-suppress-types nil<span style="color: #696969;">)</span> 

<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(add-to-list 'semantic-default-submodes 'global-semantic-idle-summary-mode)</span>
<span style="color: #696969;">(</span>add-to-list 'semantic-default-submodes 'global-semantic-mru-bookmark-mode<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-to-list 'semantic-default-submodes 'global-semanticdb-minor-mode<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-to-list 'semantic-default-submodes 'global-semantic-decoration-mode<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-to-list 'semantic-default-submodes 'global-semantic-idle-scheduler-mode<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-to-list 'semantic-default-submodes 'global-semantic-stickyfunc-mode<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-to-list 'semantic-default-submodes 'global-cedet-m3-minor-mode<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-to-list 'semantic-default-submodes 'global-semantic-highlight-func-mode<span style="color: #696969;">)</span>
<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(add-to-list 'semantic-default-submodes 'global-semantic-show-unmatched-syntax-mode)</span>
<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(add-to-list 'semantic-default-submodes 'global-semantic-highlight-edits-mode)</span>
<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(add-to-list 'semantic-default-submodes 'global-semantic-show-parser-state-mode)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">semantic/bovine/c</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">semantic/bovine/gcc</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">semantic/bovine/clang</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">semantic/ia</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">semantic/decorate/include</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">semantic/lex-spp</span><span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">need to add CEDET contrib to bring in eassist</span>
<span style="color: #696969;">(</span>add-to-list 'load-path <span style="color: #696969;">(</span>expand-file-name 
       <span style="color: #696969;">(</span>concat
        qdot/emacs-autoinst-elisp-dir <span style="color: #ffa07a;">"cedet/contrib"</span><span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">eassist</span><span style="color: #696969;">)</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(global-ede-mode 1)</span>

<span style="color: #696969;">(</span>setq-default semanticdb-default-save-directory <span style="color: #ffa07a;">"~/.emacs_meta/semanticdb/"</span>
        semanticdb-default-system-save-directory <span style="color: #ffa07a;">"~/.emacs_meta/semanticdb/"</span><span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/cedet-hook</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>local-set-key [<span style="color: #696969;">(</span>control return<span style="color: #696969;">)</span>] 'semantic-ia-complete-symbol<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>local-set-key <span style="color: #ffa07a;">"\C-c?"</span> 'semantic-ia-complete-symbol-menu<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>local-set-key <span style="color: #ffa07a;">"\C-c&gt;"</span> 'semantic-complete-analyze-inline<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>local-set-key <span style="color: #ffa07a;">"\C-cp"</span> 'semantic-analyze-proto-impl-toggle<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>local-set-key <span style="color: #ffa07a;">"\C-cj"</span> 'semantic-ia-fast-jump<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>local-set-key <span style="color: #ffa07a;">"\C-cq"</span> 'semantic-ia-show-doc<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>local-set-key <span style="color: #ffa07a;">"\C-cs"</span> 'semantic-ia-show-summary<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>local-set-key <span style="color: #ffa07a;">"\C-cp"</span> 'semantic-analyze-proto-impl-toggle<span style="color: #696969;">)</span>
  <span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'c-mode-common-hook 'qdot/cedet-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'lisp-mode-hook 'qdot/cedet-hook<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'emacs-lisp-mode-hook 'qdot/cedet-hook<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/c-mode-cedet-hook</span> <span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>local-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c o"</span><span style="color: #696969;">)</span> 'eassist-switch-h-cpp<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>local-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c C-r"</span><span style="color: #696969;">)</span> 'semantic-symref<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>add-hook 'c-mode-common-hook 'qdot/c-mode-cedet-hook<span style="color: #696969;">)</span>


<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Flymake for python using pep8/pylint/pychecker</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">http://vaab.blog.kal.fr/2012/09/20/emacs-and-flymake-for-python-javascript-php-rst/</span>
<span style="color: #ff4500;">;; </span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Python flymake configuration</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>load <span style="color: #ffa07a;">"flymake"</span> t<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">flymake-pycheckers-init</span> <span style="color: #696969;">()</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">let*</span> <span style="color: #696969;">((</span>temp-file <span style="color: #696969;">(</span>flymake-init-create-temp-buffer-copy
                    'flymake-create-temp-inplace<span style="color: #696969;">))</span>
        <span style="color: #696969;">(</span>local-file <span style="color: #696969;">(</span>file-relative-name
                     temp-file
                     <span style="color: #696969;">(</span>file-name-directory buffer-file-name<span style="color: #696969;">))))</span>
      <span style="color: #696969;">(</span>list <span style="color: #696969;">(</span>concat qdot/emacs-scripts-dir <span style="color: #ffa07a;">"flycheck_python.py"</span><span style="color: #696969;">)</span>  <span style="color: #696969;">(</span>list local-file<span style="color: #696969;">))))</span>

  <span style="color: #696969;">(</span>add-to-list 'flymake-allowed-file-name-masks
            '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"\\.py\\'"</span> flymake-pycheckers-init<span style="color: #696969;">)))</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">pymacs and ropemacs</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Initialize Pymacs</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">pymacs</span><span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>setq qdot/pymacs-loaded nil<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/load-pymacs</span><span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">unless</span> qdot/pymacs-loaded
    <span style="color: #696969;">(</span>autoload 'pymacs-apply <span style="color: #ffa07a;">"pymacs"</span><span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>autoload 'pymacs-call <span style="color: #ffa07a;">"pymacs"</span><span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>autoload 'pymacs-eval <span style="color: #ffa07a;">"pymacs"</span> nil t<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>autoload 'pymacs-exec <span style="color: #ffa07a;">"pymacs"</span> nil t<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>autoload 'pymacs-load <span style="color: #ffa07a;">"pymacs"</span> nil t<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>pymacs-load <span style="color: #ffa07a;">"ropemacs"</span> <span style="color: #ffa07a;">"rope-"</span><span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>setq ropemacs-enable-autoimport t<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>ac-ropemacs-require<span style="color: #696969;">)</span>
    <span style="color: #696969;">(</span>setq qdot/pymacs-loaded t<span style="color: #696969;">)</span>
    <span style="color: #696969;">))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">qdot/python-mode-hook</span><span style="color: #696969;">()</span>
  <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span> <span style="color: #696969;">(</span>eldoc-mode 1<span style="color: #696969;">))</span>
  <span style="color: #696969;">(</span>setq tab-width 4<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>setq indent-tabs-mode nil<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>setq py-indent-offset 4<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>setq python-indent-offset 4<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>set-variable 'python-indent-guess-indent-offset nil<span style="color: #696969;">)</span>
  <span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(qdot/load-pymacs)</span>
  <span style="color: #696969;">(</span>auto-complete-mode nil<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>subword-mode 1<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>flymake-mode 1<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>jedi:ac-setup<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>set <span style="color: #696969;">(</span>make-local-variable 'ac-find-function<span style="color: #696969;">)</span> 'ac-python-find<span style="color: #696969;">))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(add-hook 'python-mode-hook 'qdot/ac-config-python)</span>
<span style="color: #696969;">(</span>add-hook 'python-mode-hook 'qdot/python-mode-hook<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Guess tabs/spaces for python mode indentation</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(add-hook 'python-mode-hook guess-style-guess-tabs-mode)</span>
<span style="color: #696969;">(</span>add-hook 'python-mode-hook <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span>
            <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> indent-tabs-mode
        <span style="color: #696969;">(</span>guess-style-guess-tab-width<span style="color: #696969;">))))</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Javascript settings</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #696969;">(</span>setq js-indent-level 2<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq
 js2-auto-indent-p t
 js2-basic-offset 2
 js2-enter-indents-newline t
 js2-indent-on-enter-key t<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">(add-hook 'compilation-mode-hook</span>
<span style="color: #ff4500;">;;          </span><span style="color: #ff4500;">(lambda ()</span>
<span style="color: #ff4500;">;;            </span><span style="color: #ff4500;">(setq comint-buffer-maximum-size 10240)))</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">;; (add-hook 'comint-output-filter-functions 'comint-truncate-buffer)))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Fix for .js files that have Java set as the mode (I'm looking at</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">you, mozilla-central)</span>
<span style="color: #696969;">(</span>add-hook 'java-mode-hook
    <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span>
      <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>string-match <span style="color: #ffa07a;">"\\.js\\'"</span> buffer-file-name<span style="color: #696969;">)</span>
        <span style="color: #696969;">(</span>js2-mode<span style="color: #696969;">))))</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">gdb settings</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Turn off non-stop by default. All or nothing, damnit.</span>
<span style="color: #696969;">(</span>setq gdb-non-stop-setting nil<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>setq compilation-auto-jump-to-first-error t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>setq compilation-scroll-output 'first-error<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">lisp/elisp settings</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">eldoc mode for showing function calls in mode line</span>
<span style="color: #696969;">(</span>setq eldoc-idle-delay 0<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>autoload 'turn-on-eldoc-mode <span style="color: #ffa07a;">"eldoc"</span> nil t<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'emacs-lisp-mode-hook 'turn-on-eldoc-mode<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>add-hook 'lisp-interaction-mode-hook 'turn-on-eldoc-mode<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">stealin' things from esk</span>
<span style="color: #696969;">(</span>add-hook 'emacs-lisp-mode-hook 'esk-remove-elc-on-save<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">esk-remove-elc-on-save</span> <span style="color: #696969;">()</span>
  <span style="color: #ffa07a;">"If you're saving an elisp file, likely the .elc is no longer valid."</span>
  <span style="color: #696969;">(</span>make-local-variable 'after-save-hook<span style="color: #696969;">)</span>
  <span style="color: #696969;">(</span>add-hook 'after-save-hook
      <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span>
        <span style="color: #696969;">(</span><span style="color: #00ffff;">if</span> <span style="color: #696969;">(</span>file-exists-p <span style="color: #696969;">(</span>concat buffer-file-name <span style="color: #ffa07a;">"c"</span><span style="color: #696969;">))</span>
      <span style="color: #696969;">(</span>delete-file <span style="color: #696969;">(</span>concat buffer-file-name <span style="color: #ffa07a;">"c"</span><span style="color: #696969;">))))))</span>

<span style="color: #696969;">(</span>define-key emacs-lisp-mode-map <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c v"</span><span style="color: #696969;">)</span> 'eval-buffer<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>define-key lisp-mode-shared-map <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"RET"</span><span style="color: #696969;">)</span> 'reindent-then-newline-and-indent<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">TODO: look into parenface package</span>
<span style="color: #696969;">(</span><span style="color: #00ffff;">defface</span> <span style="color: #eedd82;">esk-paren-face</span>
  '<span style="color: #696969;">((((</span>class color<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>background dark<span style="color: #696969;">))</span>
     <span style="color: #696969;">(</span>:foreground <span style="color: #ffa07a;">"grey50"</span><span style="color: #696969;">))</span>
    <span style="color: #696969;">(((</span>class color<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>background light<span style="color: #696969;">))</span>
     <span style="color: #696969;">(</span>:foreground <span style="color: #ffa07a;">"grey55"</span><span style="color: #696969;">)))</span>
  <span style="color: #ffa07a;">"Face used to dim parentheses."</span>
  :group 'starter-kit-faces<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">dolist</span> <span style="color: #696969;">(</span>mode '<span style="color: #696969;">(</span>scheme emacs-lisp lisp<span style="color: #696969;">))</span>
    <span style="color: #696969;">(</span><span style="color: #00ffff;">when</span> <span style="color: #696969;">(</span>&gt; <span style="color: #696969;">(</span>display-color-cells<span style="color: #696969;">)</span> 8<span style="color: #696969;">)</span>
      <span style="color: #696969;">(</span>font-lock-add-keywords <span style="color: #696969;">(</span>intern <span style="color: #696969;">(</span>concat <span style="color: #696969;">(</span>symbol-name mode<span style="color: #696969;">)</span> <span style="color: #ffa07a;">"-mode"</span><span style="color: #696969;">))</span>
                              '<span style="color: #696969;">((</span><span style="color: #ffa07a;">"(</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">|</span><span style="color: #ffa07a;">)"</span> . 'esk-paren-face<span style="color: #696969;">)))))</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">eval-after-load</span> 'magit
  '<span style="color: #696969;">(</span><span style="color: #00ffff;">progn</span>
     <span style="color: #696969;">(</span>set-face-foreground 'magit-diff-add <span style="color: #ffa07a;">"green1"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>set-face-foreground 'magit-diff-del <span style="color: #ffa07a;">"red1"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>set-face-background 'magit-diff-add <span style="color: #ffa07a;">"#004400"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>set-face-background 'magit-diff-del <span style="color: #ffa07a;">"#440000"</span><span style="color: #696969;">)</span>
     <span style="color: #696969;">(</span>set-face-background 'magit-item-highlight <span style="color: #ffa07a;">"#1f2727"</span><span style="color: #696969;">)</span>
     <span style="color: #ff4500;">;; </span><span style="color: #ff4500;">full screen magit-status</span>

     <span style="color: #696969;">(</span><span style="color: #00ffff;">defadvice</span> <span style="color: #87cefa;">magit-status</span> <span style="color: #696969;">(</span>around magit-fullscreen activate<span style="color: #696969;">)</span>
       <span style="color: #696969;">(</span>window-configuration-to-register :magit-fullscreen<span style="color: #696969;">)</span>
       ad-do-it
       <span style="color: #696969;">(</span>delete-other-windows<span style="color: #696969;">))</span>

     <span style="color: #696969;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">magit-quit-session</span> <span style="color: #696969;">()</span>
       <span style="color: #ffa07a;">"Restores the previous window configuration and kills the magit buffer"</span>
       <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
       <span style="color: #696969;">(</span>kill-buffer<span style="color: #696969;">)</span>
       <span style="color: #696969;">(</span>jump-to-register :magit-fullscreen<span style="color: #696969;">))</span>

     <span style="color: #696969;">(</span>define-key magit-status-mode-map <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"q"</span><span style="color: #696969;">)</span> 'magit-quit-session<span style="color: #696969;">)))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-8" class="outline-2">
<h2 id="sec-8">Keybinds</h2>
<div class="outline-text-2" id="text-8">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Key triggers</span>
<span style="color: #ff4500;">;;</span>
<span style="color: #ff4500;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color: #ff4500;">;;</span><span style="color: #ff4500;">(global-set-key (kbd "C-h") 'delete-backward-char)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-w"</span><span style="color: #696969;">)</span> 'backward-kill-word<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c p"</span><span style="color: #696969;">)</span> 'swap-buffers-in-windows<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c r"</span><span style="color: #696969;">)</span> 'revert-buffer<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c v"</span><span style="color: #696969;">)</span> 'visual-line-mode<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c e"</span><span style="color: #696969;">)</span> 'eval-and-replace<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c s"</span><span style="color: #696969;">)</span> 'shell-current-directory<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-x C-k"</span><span style="color: #696969;">)</span> 'kill-region<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-x C-b"</span><span style="color: #696969;">)</span> 'ibuffer-other-window<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c C-m"</span><span style="color: #696969;">)</span> 'execute-extended-command<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c m"</span><span style="color: #696969;">)</span> 'mu4e<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c C-k"</span><span style="color: #696969;">)</span> 'kill-region<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c C-s"</span><span style="color: #696969;">)</span> 'sudo-edit-current-file<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c C-r"</span><span style="color: #696969;">)</span> 'reload-file<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-M-g"</span><span style="color: #696969;">)</span> 'goto-line<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"M-g s"</span><span style="color: #696969;">)</span> 'magit-status<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-="</span><span style="color: #696969;">)</span> 'er/expand-region<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Bind smex over M-x, deals with sorting most used commands to front of IDO</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"M-x"</span><span style="color: #696969;">)</span> 'smex<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"M-X"</span><span style="color: #696969;">)</span> 'smex-major-mode-commands<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-c C-c M-x"</span><span style="color: #696969;">)</span> 'execute-extended-command<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span>define-key global-map <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-x SPC"</span><span style="color: #696969;">)</span> 'ace-jump-mode<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Stealin' from esk</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Start eshell or switch to it if it's active.</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-x m"</span><span style="color: #696969;">)</span> 'eshell<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Start a new eshell even if one is active.</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-x M"</span><span style="color: #696969;">)</span> <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span> <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span> <span style="color: #696969;">(</span>eshell t<span style="color: #696969;">)))</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Start a regular shell if you prefer that.</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-x C-m"</span><span style="color: #696969;">)</span> 'shell<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">Make this like shell. And also make emacs completely unusable for anyone</span>
<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">else. :D</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-w"</span><span style="color: #696969;">)</span> 'backward-kill-word<span style="color: #696969;">)</span>

<span style="color: #ff4500;">;; </span><span style="color: #ff4500;">http://whattheemacsd.com//key-bindings.el-03.html</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"M-j"</span><span style="color: #696969;">)</span>
                <span style="color: #696969;">(</span><span style="color: #00ffff;">lambda</span> <span style="color: #696969;">()</span>
                  <span style="color: #696969;">(</span>interactive<span style="color: #696969;">)</span>
                  <span style="color: #696969;">(</span>join-line -1<span style="color: #696969;">)))</span>

<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-x f"</span><span style="color: #696969;">)</span> 'find-file-in-project<span style="color: #696969;">)</span>

<span style="color: #696969;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">rect-mark</span><span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-x r C-SPC"</span><span style="color: #696969;">)</span> 'rm-set-mark<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-x r C-x"</span><span style="color: #696969;">)</span>   'rm-exchange-point-and-mark<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-x r C-w"</span><span style="color: #696969;">)</span>   'rm-kill-region<span style="color: #696969;">)</span>
<span style="color: #696969;">(</span>global-set-key <span style="color: #696969;">(</span>kbd <span style="color: #ffa07a;">"C-x r M-w"</span><span style="color: #696969;">)</span>   'rm-kill-ring-save<span style="color: #696969;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-9" class="outline-2">
<h2 id="sec-9">Automodes</h2>
<div class="outline-text-2" id="text-9">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff4500;">;; </span><span style="color: #ff4500;">file extension mode recognition</span>
<span style="color: #696969;">(</span>add-to-list 'auto-mode-alist '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"\\.</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">(</span><span style="color: #ffa07a;">xml</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">|</span><span style="color: #ffa07a;">mxml</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">)</span><span style="color: #ffa07a;">$"</span> . nxml-mode<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>add-to-list 'auto-mode-alist '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"\\.asciidoc$"</span> . adoc-mode<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>add-to-list 'auto-mode-alist '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"\\.hs$"</span> . haskell-mode<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>add-to-list 'auto-mode-alist '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"ChangeLog\\.txt\\'"</span> . change-log-mode<span style="color: #696969;">))</span>
<span style="color: #696969;">(</span>add-to-list 'auto-mode-alist '<span style="color: #696969;">(</span><span style="color: #ffa07a;">"\\.org_archive$"</span>  . org-mode<span style="color: #696969;">))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-10" class="outline-2">
<h2 id="sec-10">Tasks</h2>
<div id="outline-container-10-1" class="outline-3">
<h3 id="sec-10-1"><span class="done DONE">DONE</span> Import contacts into BBDB3</h3>
<div class="outline-text-3" id="text-10-1">
<ul class="org-ul">
<li>State "DONE"       from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2012-08-25 Sat 21:23]</span></span>
</li>
</ul>
</div>
</div>

<div id="outline-container-10-2" class="outline-3">
<h3 id="sec-10-2"><a id="ID-74bfbc0a-3618-4567-a639-171aa0af2b24" name="ID-74bfbc0a-3618-4567-a639-171aa0af2b24"></a><span class="done DONE">DONE</span> Move contacts into BBDB off iphone</h3>
<div class="outline-text-3" id="text-10-2">
<ul class="org-ul">
<li>State "DONE"       from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2012-08-25 Sat 21:24]</span></span>
</li>
</ul>
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2010-09-20 Mon]</span></span>
<a href="file:///home/qdot/emacs_org/vienna2010.html" >2010-09-10</a>
</p>
</div>
</div>

<div id="outline-container-10-3" class="outline-3">
<h3 id="sec-10-3"><span class="done CANCELLED">CANCELLED</span> Create special ERC buffer to show query buffer list</h3>
<div class="outline-text-3" id="text-10-3">
<ul class="org-ul">
<li>State "CANCELLED"  from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2012-10-15 Mon 15:47]</span></span> <br/>
  Implementing via erc-nicklist
</li>
</ul>
</div>
</div>

<div id="outline-container-10-4" class="outline-3">
<h3 id="sec-10-4"><a id="ID-8a309bfb-abc0-4492-9eb7-3f7af4a30bd1" name="ID-8a309bfb-abc0-4492-9eb7-3f7af4a30bd1"></a><span class="done CANCELLED">CANCELLED</span> Make todochiku notification for twitter mentions</h3>
<div class="outline-text-3" id="text-10-4">
<ul class="org-ul">
<li>State "CANCELLED"  from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2012-10-15 Mon 15:36]</span></span> <br/>
  Not using todochiku anymore
</li>
</ul>
</div>
</div>

<div id="outline-container-10-5" class="outline-3">
<h3 id="sec-10-5"><a id="ID-c315b3ab-448b-4134-af2f-0378af73dc24" name="ID-c315b3ab-448b-4134-af2f-0378af73dc24"></a><span class="done CANCELLED">CANCELLED</span> Make todochiku notification for inbox receives</h3>
<div class="outline-text-3" id="text-10-5">
<ul class="org-ul">
<li>State "CANCELLED"  from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2012-10-15 Mon 15:36]</span></span> <br/>
  Not using todochiku anymore
</li>
</ul>
</div>
</div>

<div id="outline-container-10-6" class="outline-3">
<h3 id="sec-10-6"><a id="ID-587c0a16-161f-482a-b950-f74c760dea78" name="ID-587c0a16-161f-482a-b950-f74c760dea78"></a><span class="done DONE">DONE</span> See how sauron handles notifications for twitter/gnus</h3>
<div class="outline-text-3" id="text-10-6">
<ul class="org-ul">
<li>State "DONE"       from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2012-10-15 Mon 15:37]</span></span>
</li>
</ul>
</div>
</div>

<div id="outline-container-10-7" class="outline-3">
<h3 id="sec-10-7"><span class="done DONE">DONE</span> Rename emacs_files_24 to just emacs_files again</h3>
<div class="outline-text-3" id="text-10-7">
<ul class="org-ul">
<li>State "DONE"       from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2012-10-15 Mon 15:47]</span></span>
  <span class="timestamp-wrapper"><span class="timestamp">[2012-04-27 Fri]</span></span>
  <a href="file:///home/qdot/emacs_org/org-reorg.html" >Files</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-10-8" class="outline-3">
<h3 id="sec-10-8"><span class="todo TODO">TODO</span> Redo CEDET Setup</h3>
</div>
<div id="outline-container-10-9" class="outline-3">
<h3 id="sec-10-9"><span class="todo TODO">TODO</span> Figure out issues with schedule export</h3>
</div>
<div id="outline-container-10-10" class="outline-3">
<h3 id="sec-10-10"><span class="todo TODO">TODO</span> Read up more on mail sync</h3>
</div>
<div id="outline-container-10-11" class="outline-3">
<h3 id="sec-10-11"><a id="ID-831C60D2-5A9C-46C4-AFFD-D197F22E9731" name="ID-831C60D2-5A9C-46C4-AFFD-D197F22E9731"></a><span class="todo TODO">TODO</span> Make header/source search look at the buffer list first</h3>
<div class="outline-text-3" id="text-10-11">
</div>
</div>

<div id="outline-container-10-12" class="outline-3">
<h3 id="sec-10-12"><a id="ID-6B223E71-B699-4B9D-836B-C9F061DC93AD" name="ID-6B223E71-B699-4B9D-836B-C9F061DC93AD"></a><span class="todo TODO">TODO</span> Extend jekyll script to deal with multiple blogs</h3>
<div class="outline-text-3" id="text-10-12">
</div>
</div>
<div id="outline-container-10-13" class="outline-3">
<h3 id="sec-10-13"><a id="ID-0757ee32-8d03-4745-8f00-74023cc739a2" name="ID-0757ee32-8d03-4745-8f00-74023cc739a2"></a><span class="todo TODO">TODO</span> Fix rope mode to always have ignore_bad_imports equal to True</h3>
<div class="outline-text-3" id="text-10-13">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2010-10-27 Wed]</span></span>
<i><i>nil</i>("Application: %s\n", self.__class__.__name__)</i>
</p>
</div>
</div>
<div id="outline-container-10-14" class="outline-3">
<h3 id="sec-10-14"><a id="ID-1ce4cdcc-ddbe-48d6-9eb6-2b363d5db90c" name="ID-1ce4cdcc-ddbe-48d6-9eb6-2b363d5db90c"></a><span class="todo TODO">TODO</span> Make emacs autoblogging utility for blog and software sites</h3>
<div class="outline-text-3" id="text-10-14">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2011-01-08 Sat]</span></span>
</p>

<p>
<i>nil</i>
</p>
</div>
</div>

<div id="outline-container-10-15" class="outline-3">
<h3 id="sec-10-15"><a id="ID-5c2bdb24-e177-45eb-a5c0-5b1ecacbbc45" name="ID-5c2bdb24-e177-45eb-a5c0-5b1ecacbbc45"></a><span class="todo TODO">TODO</span> Check out eproject</h3>
<div class="outline-text-3" id="text-10-15">
<p>
<a href="https://github.com/jrockway/eproject" >https://github.com/jrockway/eproject</a>
</p>
</div>
</div>
<div id="outline-container-10-16" class="outline-3">
<h3 id="sec-10-16"><span class="todo TODO">TODO</span> Check out ede which apparently now works with CMake?</h3>
</div>
<div id="outline-container-10-17" class="outline-3">
<h3 id="sec-10-17"><a id="ID-f7db638c-c411-4f8f-b214-7e66ce0b1756" name="ID-f7db638c-c411-4f8f-b214-7e66ce0b1756"></a><span class="todo TODO">TODO</span> Work on eshell</h3>
<div class="outline-text-3" id="text-10-17">
</div>
</div>

<div id="outline-container-10-18" class="outline-3">
<h3 id="sec-10-18"><span class="todo TODO">TODO</span> Override java-mode to be js2-mode on all .js files</h3>
<div class="outline-text-3" id="text-10-18">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2012-03-30 Fri]</span></span>
<i><i>nil</i>(BluetoothAdapter.power) {</i>
</p>
</div>
</div>
<div id="outline-container-10-19" class="outline-3">
<h3 id="sec-10-19"><span class="todo TODO">TODO</span> Make fill columns for ERC auto-set for workgroup sizes?</h3>
</div>
<div id="outline-container-10-20" class="outline-3">
<h3 id="sec-10-20"><span class="todo TODO">TODO</span> Install BufferTimer</h3>
<div class="outline-text-3" id="text-10-20">
<p>
<a href="https://github.com/hardaker/elisp-buffer-timer/" >https://github.com/hardaker/elisp-buffer-timer/</a>
</p>
</div>
</div>

<div id="outline-container-10-21" class="outline-3">
<h3 id="sec-10-21"><span class="todo TODO">TODO</span> Fix ede-mode for org files</h3>
</div>
<div id="outline-container-10-22" class="outline-3">
<h3 id="sec-10-22"><span class="todo TODO">TODO</span> Add C-c . to org-disputed-keys, change to C-c c for calendar bring-up versus cedet/ede</h3>
</div>
<div id="outline-container-10-23" class="outline-3">
<h3 id="sec-10-23"><span class="todo TODO">TODO</span> Check out why rainbow delimiters don't like mozilla C++ files</h3>
</div>
<div id="outline-container-10-24" class="outline-3">
<h3 id="sec-10-24"><span class="todo TODO">TODO</span> Read Julian Danjou's config</h3>
<div class="outline-text-3" id="text-10-24">
<p>
<a href="http://git.naquadah.org/?p=~jd/emacs.d.git;a=tree" >http://git.naquadah.org/?p=~jd/emacs.d.git;a=tree</a>
</p>
</div>
</div>

<div id="outline-container-10-25" class="outline-3">
<h3 id="sec-10-25"><span class="todo TODO">TODO</span> Set up unicode fonts in emacs</h3>
<div class="outline-text-3" id="text-10-25">
<p>
<a href="https://github.com/rolandwalker/unicode-fonts" >https://github.com/rolandwalker/unicode-fonts</a>
</p>
</div>
</div>

<div id="outline-container-10-26" class="outline-3">
<h3 id="sec-10-26"><span class="todo TODO">TODO</span> Check out js2-refactor</h3>
</div>
<div id="outline-container-10-27" class="outline-3">
<h3 id="sec-10-27"><span class="todo TODO">TODO</span> Make bitlbee workgroup regenerate whenever we get a new im</h3>
</div>
<div id="outline-container-10-28" class="outline-3">
<h3 id="sec-10-28"><span class="todo TODO">TODO</span> Think about non-fixed with for non-code buffers?</h3>
</div>
<div id="outline-container-10-29" class="outline-3">
<h3 id="sec-10-29">ERC Nicklist rewrite</h3>
<div id="outline-container-10-29-1" class="outline-4">
<h4 id="sec-10-29-1"><span class="todo TODO">TODO</span> Create filter function to load things like lists of privmsg buffers</h4>
</div>
<div id="outline-container-10-29-2" class="outline-4">
<h4 id="sec-10-29-2"><span class="todo TODO">TODO</span> Use hl-mode for hilighting per line</h4>
</div>
<div id="outline-container-10-29-3" class="outline-4">
<h4 id="sec-10-29-3"><span class="todo TODO">TODO</span> Remove cursor rendering</h4>
</div>
<div id="outline-container-10-29-4" class="outline-4">
<h4 id="sec-10-29-4"><span class="todo TODO">TODO</span> Rewrite menu/query function</h4>
</div>
<div id="outline-container-10-29-5" class="outline-4">
<h4 id="sec-10-29-5"><span class="todo TODO">TODO</span> Group handling?</h4>
</div>
<div id="outline-container-10-29-6" class="outline-4">
<h4 id="sec-10-29-6"><span class="todo TODO">TODO</span> Host fetch handling</h4>
</div>
<div id="outline-container-10-29-7" class="outline-4">
<h4 id="sec-10-29-7"><span class="todo TODO">TODO</span> Change nick/line faces based on status or privmsg</h4>
</div>
<div id="outline-container-10-29-8" class="outline-4">
<h4 id="sec-10-29-8"><span class="todo TODO">TODO</span> Make nicklist buffer show up in buffer list</h4>
</div>
<div id="outline-container-10-29-9" class="outline-4">
<h4 id="sec-10-29-9"><span class="todo TODO">TODO</span> Create command to clear erc-nicklist</h4>
<div class="outline-text-4" id="text-10-29-9">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2012-03-30 Fri]</span></span>
<i><i>nil</i> sdkVersion = 15;</i>
</p>
</div>
</div>
</div>

<div id="outline-container-10-30" class="outline-3">
<h3 id="sec-10-30">ERC Privmsg mode</h3>
<div id="outline-container-10-30-1" class="outline-4">
<h4 id="sec-10-30-1"><span class="todo TODO">TODO</span> Make keymap for last/next privmsg</h4>
</div>
<div id="outline-container-10-30-2" class="outline-4">
<h4 id="sec-10-30-2"><span class="todo TODO">TODO</span> Make trigger to clear erc-nicklist status on access</h4>
</div>
<div id="outline-container-10-30-3" class="outline-4">
<h4 id="sec-10-30-3"><span class="todo TODO">TODO</span> Gravatar image viewing?</h4>
</div>
<div id="outline-container-10-30-4" class="outline-4">
<h4 id="sec-10-30-4"><span class="todo TODO">TODO</span> Make ido only list IMs?</h4>
</div>
</div>

<div id="outline-container-10-31" class="outline-3">
<h3 id="sec-10-31">Workgroups Update</h3>
<div id="outline-container-10-31-1" class="outline-4">
<h4 id="sec-10-31-1"><span class="todo TODO">TODO</span> Divide functionality into modules</h4>
</div>
<div id="outline-container-10-31-2" class="outline-4">
<h4 id="sec-10-31-2"><span class="todo TODO">TODO</span> Removing pickling, make configuration files human readable</h4>
</div>
<div id="outline-container-10-31-3" class="outline-4">
<h4 id="sec-10-31-3"><span class="todo TODO">TODO</span> Make more features enable/disable-able</h4>
</div>
<div id="outline-container-10-31-4" class="outline-4">
<h4 id="sec-10-31-4"><span class="todo TODO">TODO</span> Per-workgroup buffer list implementations</h4>
</div>
<div id="outline-container-10-31-5" class="outline-4">
<h4 id="sec-10-31-5"><span class="todo TODO">TODO</span> Stop workgroups.el from reloading file lists for workgroups</h4>
</div>
</div>

<div id="outline-container-10-32" class="outline-3">
<h3 id="sec-10-32">mu4e/gnupg</h3>
<div id="outline-container-10-32-1" class="outline-4">
<h4 id="sec-10-32-1"><span class="done DONE">DONE</span> Set all past email address in mu4e-user-mail-address-list</h4>
<div class="outline-text-4" id="text-10-32-1">
<ul class="org-ul">
<li>State "DONE"       from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2013-02-18 Mon 22:21]</span></span>
</li>
</ul>
</div>
</div>

<div id="outline-container-10-32-2" class="outline-4">
<h4 id="sec-10-32-2"><span class="done DONE">DONE</span> Set up gpg to not require passwords all the time</h4>
<div class="outline-text-4" id="text-10-32-2">
<ul class="org-ul">
<li>State "DONE"       from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2013-02-18 Mon 22:25]</span></span>
</li>
</ul>
</div>
</div>

<div id="outline-container-10-32-3" class="outline-4">
<h4 id="sec-10-32-3"><span class="done DONE">DONE</span> Check out message actions ('a' in header view)</h4>
<div class="outline-text-4" id="text-10-32-3">
<ul class="org-ul">
<li>State "DONE"       from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2013-02-21 Thu 18:51]</span></span>
</li>
</ul>
</div>
</div>

<div id="outline-container-10-32-4" class="outline-4">
<h4 id="sec-10-32-4"><span class="done DONE">DONE</span> Change mu4e-view-show-addresses so I can see email addresses</h4>
<div class="outline-text-4" id="text-10-32-4">
<ul class="org-ul">
<li>State "DONE"       from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2013-02-21 Thu 18:58]</span></span>
</li>
</ul>
</div>
</div>

<div id="outline-container-10-32-5" class="outline-4">
<h4 id="sec-10-32-5"><span class="done DONE">DONE</span> Set up multiple account information for smtpmail</h4>
<div class="outline-text-4" id="text-10-32-5">
<ul class="org-ul">
<li>State "DONE"       from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2013-02-21 Thu 21:26]</span></span>
</li>
</ul>
</div>
</div>

<div id="outline-container-10-32-6" class="outline-4">
<h4 id="sec-10-32-6"><span class="done DONE">DONE</span> Set up bookmarks for oft used searches</h4>
<div class="outline-text-4" id="text-10-32-6">
<ul class="org-ul">
<li>State "DONE"       from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2013-02-21 Thu 22:34]</span></span>
</li>
</ul>
</div>
</div>

<div id="outline-container-10-32-7" class="outline-4">
<h4 id="sec-10-32-7"><span class="todo TODO">TODO</span> Set up quick indexes to maildirs</h4>
<div class="outline-text-4" id="text-10-32-7">
<p>
5*** TODO Add mu notifications for sauron and xmonad
</p>
</div>
</div>

<div id="outline-container-10-32-8" class="outline-4">
<h4 id="sec-10-32-8"><span class="todo TODO">TODO</span> Set up offlineimap to retrieve via mu4e</h4>
</div>
<div id="outline-container-10-32-9" class="outline-4">
<h4 id="sec-10-32-9"><span class="todo TODO">TODO</span> Set up mail queuing in mu4e</h4>
</div>
<div id="outline-container-10-32-10" class="outline-4">
<h4 id="sec-10-32-10"><span class="todo TODO">TODO</span> Set up encryption/checking in mu4e</h4>
</div>
<div id="outline-container-10-32-11" class="outline-4">
<h4 id="sec-10-32-11"><span class="todo TODO">TODO</span> Encrypt maildir via truecrypt</h4>
</div>
<div id="outline-container-10-32-12" class="outline-4">
<h4 id="sec-10-32-12"><span class="todo TODO">TODO</span> Figure out where to put maildir for transfer</h4>
</div>
<div id="outline-container-10-32-13" class="outline-4">
<h4 id="sec-10-32-13"><span class="todo TODO">TODO</span> Look at key sharing via ssss or libgfshare</h4>
<div class="outline-text-4" id="text-10-32-13">
<p>
<a href="http://www.digital-scurf.org/software/libgfshare" >http://www.digital-scurf.org/software/libgfshare</a>
</p>
</div>
</div>

<div id="outline-container-10-32-14" class="outline-4">
<h4 id="sec-10-32-14"><span class="todo TODO">TODO</span> Make autorefiling function for messages from Kelly</h4>
</div>
<div id="outline-container-10-32-15" class="outline-4">
<h4 id="sec-10-32-15"><span class="todo TODO">TODO</span> Speedbar setup for xmonad (automatic frame sizing)?</h4>
</div>
</div>
</div>

</div><div id="postamble">
<p class="date">Date: </p>
<p class="author">Author : Kyle Machulis</p>
<p class="creator">Generated by <a href="http://orgmode.org">Org</a> mode 7.9.3f in <a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.3.50.1.</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>
</div>
</body>
</html>